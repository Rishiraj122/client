(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{205:function(e,t,n){},220:function(e,t){},222:function(e,t){},236:function(e,t){},238:function(e,t){},266:function(e,t){},268:function(e,t){},269:function(e,t){},274:function(e,t){},276:function(e,t){},282:function(e,t){},284:function(e,t){},303:function(e,t){},315:function(e,t){},318:function(e,t){},352:function(e,t,n){},402:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(196),r=n.n(c),o=(n(205),n(9)),l=n(12),i=n(4),d=n(2),j=n(3),b=n.n(j),u=n(0);var h=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("nav",{class:"sticky-top navbar navbar-expand-lg navbar-dark",children:[Object(u.jsxs)("a",{class:"navbar-brand",href:"/",children:[Object(u.jsx)("i",{class:"nav-icon fas fa-building fa-1x"})," HMS"]}),Object(u.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{class:"navbar-toggler-icon"})}),Object(u.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(u.jsx)("ul",{class:"navbar-nav ml-auto",children:Object(u.jsx)("li",{class:"nav-item",children:Object(u.jsx)("a",{class:"nav-link",href:"/",children:"Home"})})})})]})})};var p=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(d.a)(c,2),o=r[0],l=r[1];function j(){return(j=Object(i.a)(b.a.mark((function e(t){var a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:o})});case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,"admin@gmail.com"==n&&s.user?(localStorage.setItem("token",s.user),window.location.href="/admindashboard"):"warden@gmail.com"==n&&s.user?(localStorage.setItem("token",s.user),window.location.href="/wardendashboard"):s.user?(localStorage.setItem("token",s.user),alert("Login successful"),window.location.href="/staffdashboard"):alert("Please check your username and password");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Login"}),Object(u.jsx)("p",{children:"Welcome back! Log in to access your profile."}),Object(u.jsxs)("form",{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(u.jsx)("input",{value:n,onChange:function(e){return s(e.target.value)},type:"email",placeholder:"\uf0e0  E-mail",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:o,onChange:function(e){return l(e.target.value)},type:"password",placeholder:"\uf023  Password",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{class:"btn btn-dark input-control rounded-pill",type:"submit",value:"Login"})]}),Object(u.jsx)("button",{class:"btn btn-light btn-control rounded-pill",onClick:function(){window.location.href="/register"},children:"Register"})]})]})};var O=function(){var e=Object(l.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),j=o[0],p=o[1],O=Object(a.useState)(""),m=Object(d.a)(O,2),x=m[0],f=m[1];function g(){return(g=Object(i.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("https://hms-nist.herokuapp.com/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,email:j,password:x})});case 3:return a=t.sent,t.next=6,a.json();case 6:"ok"===t.sent.status&&e.push("/login");case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Register"}),Object(u.jsx)("p",{children:"Create your Profile!"}),Object(u.jsxs)("form",{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(u.jsx)("input",{value:s,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"\uf007  Fullname",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:j,onChange:function(e){return p(e.target.value)},type:"email",placeholder:"\uf0e0  E-mail",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:x,onChange:function(e){return f(e.target.value)},type:"password",placeholder:"\uf023  Password",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{class:"btn btn-dark input-control rounded-pill",type:"submit",value:"Register"})]}),Object(u.jsx)("button",{class:"btn btn-light btn-control rounded-pill",onClick:function(){window.location.href="/login"},children:"Login"})]})]})},m=n(6),x=n.n(m),f=function(){var e=Object(l.e)(),t=Object(a.useState)([]),n=Object(d.a)(t,2),c=(n[0],n[1]),r=Object(a.useState)([]),o=Object(d.a)(r,2),j=(o[0],o[1]),h=Object(a.useState)([]),p=Object(d.a)(h,2),O=(p[0],p[1]),m=Object(a.useState)([]),f=Object(d.a)(m,2),g=(f[0],f[1]),v=Object(a.useState)([]),N=Object(d.a)(v,2),y=(N[0],N[1]),k=Object(a.useState)([]),w=Object(d.a)(k,2),S=(w[0],w[1]),C=Object(a.useState)([]),R=Object(d.a)(C,2),D=(R[0],R[1],Object(a.useState)([])),P=Object(d.a)(D,2),T=P[0],A=P[1],B=Object(a.useState)([]),M=Object(d.a)(B,2),I=(M[0],M[1]),E=Object(a.useState)([]),q=Object(d.a)(E,2),L=(q[0],q[1]),F=Object(a.useState)([]),H=Object(d.a)(F,2),J=(H[0],H[1]),V=Object(a.useState)([]),G=Object(d.a)(V,2),W=(G[0],G[1]),U=s.a.useState(!1),z=Object(d.a)(U,2),_=z[0],K=z[1],Y=[];Object(a.useEffect)((function(){var t=localStorage.getItem("token");t?(x.a.decode(t)||(localStorage.removeItem("token"),e.replace("/studentlogin")),X()):e.push("/studentlogin")}),[]);var X=function(){var e=localStorage.getItem("token"),t=x.a.decode(e);return fetch("https://hms-nist.herokuapp.com/api/studentlogin").then((function(e){return e.json()})).then((function(e){for(var n=0;n<e.user.length;n+=1)t.email==e.user[n].email&&(c(e.user[n].name),j(e.user[n].phone),O(e.user[n].email),g(e.user[n].address),y(e.user[n].roll),S(e.user[n].registration),A(e.user[n].rid),L(e.user[n].gender),J(e.user[n].dob),W(e.user[n].aadhar))})),function(){Z.apply(this,arguments)}(),{item:Y}};function Q(){return(Q=Object(i.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/clean",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({room:T,clean:"please Clean my room"})});case 3:return n=e.sent,e.next=6,n.json();case 6:"ok"==e.sent.status&&window.location.reload(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(i.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),n=x.a.decode(t),e.next=4,fetch("https://hms-nist.herokuapp.com/api/clean").then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.user.length;t++){if(n.rid==e.user[t].room){console.log("What is this?"+JSON.stringify(e.user[t])),console.log(n.rid),I("Request For Room Cleaning is Made"),K(!0);break}T!=e.user[t].room&&K(!1)}}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{children:[Object(u.jsx)("nav",{className:"sticky-top navbar navbar-expand-lg navbar-dark",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)("a",{className:"navbar-brand",href:"/",children:[Object(u.jsx)("i",{class:"nav-icon fas fa-building fa-1x"})," HMS"]}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(u.jsx)("ul",{className:"navbar-nav",children:Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link active","aria-current":"page",onClick:function(){window.localStorage.clear(),window.location.href="/studentlogin"},href:"/studentlogin",children:"Logout"})})})})]})}),Object(u.jsx)("h1",{children:"Student Dashboard"}),Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-lg-6",children:Object(u.jsx)("img",{className:"dashboard-img",src:"../images/student.png"})}),Object(u.jsxs)("div",{className:"btn-col col-lg-6",children:[Object(u.jsxs)("button",{className:"btn-dashboard btn btn-dark btn-md rounded-pill",onClick:function(){window.location.href="/studentmydetails"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-list"}),"My Details"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-light btn-md btn-block rounded-pill",disabled:_,onClick:function(e){return Q.apply(this,arguments)},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-broom"}),"Request for Room Clean"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-dark btn-md rounded-pill",onClick:function(){window.location.href="/mybill"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-money-bill"}),"My Bill"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-light btn-md btn-block rounded-pill",onClick:function(){window.location.href="/noticedisplay"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-book-open"}),"View Notice"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-dark btn-md btn-block rounded-pill",onClick:function(){window.location.href="/menudisplay"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-utensils"}),"View Menu"]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})]})})]})};var g=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsx)("button",{class:"btn btn-dark rounded-pill",onClick:function(){window.localStorage.clear(),window.location.href="/login"},children:"Logout"})]})},v=function(){var e=Object(l.e)();return Object(a.useEffect)((function(){var t=localStorage.getItem("token");if(!t){x.a.decode(t);e.push("/login")}})),Object(u.jsxs)("div",{children:[Object(u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)("a",{className:"navbar-brand",href:"/",children:[Object(u.jsx)("i",{class:"nav-icon fas fa-building fa-1x"})," HMS"]}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(u.jsx)("ul",{className:"navbar-nav",children:Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link active","aria-current":"page",onClick:function(){window.localStorage.clear(),window.location.href="/login"},href:"/login",children:"Logout"})})})})]})}),Object(u.jsx)("h1",{children:"Admin Dashboard"}),Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-lg-6",children:Object(u.jsx)("img",{className:"dashboard-img",src:"../images/admin.png"})}),Object(u.jsxs)("div",{className:"btn-col col-lg-6",children:[Object(u.jsxs)("button",{class:"btn-dashboard btn btn-dark rounded-pill",onClick:function(){window.location.href="/studentregistration"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-user"}),"Add Student"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{class:"btn-dashboard btn btn-light rounded-pill",onClick:function(){window.location.href="/studentdetails"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-ban"}),"Remove Student"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{class:"btn-dashboard btn btn-dark rounded-pill",onClick:function(){window.location.href="/studentupdate"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-pen"}),"Update Student Details"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{class:"btn-dashboard btn btn-light rounded-pill",onClick:function(){window.location.href="/notice"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-arrow-up"}),"Upload Notice"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{class:"btn-dashboard btn btn-dark rounded-pill",onClick:function(){window.location.href="/adminnotice"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-trash"}),"Delete Notice"]}),Object(u.jsx)("br",{})," ",Object(u.jsx)("br",{})]})]})})]})},N=function(){var e=Object(l.e)();return Object(a.useEffect)((function(){var t=localStorage.getItem("token");if(!t){x.a.decode(t);e.push("/login")}})),Object(u.jsxs)("div",{children:[Object(u.jsx)("nav",{className:"sticky-top navbar navbar-expand-lg navbar-dark",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)("a",{className:"navbar-brand",href:"/",children:[Object(u.jsx)("i",{class:"nav-icon fas fa-building fa-1x"})," HMS"]}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(u.jsx)("ul",{className:"navbar-nav",children:Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link active","aria-current":"page",onClick:function(){window.localStorage.clear(),window.location.href="/login"},href:"/login",children:"Logout"})})})})]})}),Object(u.jsx)("h1",{children:"Warden Dashboard"}),Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-lg-6",children:Object(u.jsx)("img",{className:"dashboard-img",src:"../images/warden.png"})}),Object(u.jsxs)("div",{className:"btn-col col-lg-6",children:[Object(u.jsxs)("button",{className:"btn-dashboard btn btn-dark rounded-pill",onClick:function(){window.location.href="/AllottedStudents"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-eye"}),"View Allotment Status"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-light rounded-pill",onClick:function(){window.location.href="/RoomAllotment"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-door-closed"}),"Allot Room"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-dark rounded-pill",onClick:function(){window.location.href="/notice"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-arrow-up"}),"Upload Notice"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-light rounded-pill",onClick:function(){window.location.href="/adminnotice"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-trash"}),"Delete Notice"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-dark rounded-pill",onClick:function(){window.location.href="/hostelbill"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-money-bill"}),"Add Bill"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-light rounded-pill",onClick:function(){window.location.href="/generatereport"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-file"}),"Generate Report"]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})]})})]})},y=n(27),k=n.n(y);var w=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(d.a)(c,2),o=r[0],l=r[1],j=Object(a.useState)(""),p=Object(d.a)(j,2),O=p[0],m=p[1];function f(){return(f=Object(i.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/notice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,noticetitle:o,notice:O,notices:[]})});case 3:return a=e.sent,e.next=6,a.json();case 6:"ok"==e.sent.status&&alert("Notice Published");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return k()({method:"get",url:"https://api.github.com/users/hacktivist123"}),Object(a.useEffect)((function(){var e=localStorage.getItem("token");if(!e){x.a.decode(e);window.location.href="/login"}})),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("section",{class:"box container-fluid",children:[Object(u.jsx)("h1",{children:"Publish Notice"}),Object(u.jsxs)("form",{onSubmit:function(e){return f.apply(this,arguments)},children:[Object(u.jsx)("input",{value:o,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Notice Title",class:"input-control2 rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:n,onChange:function(e){return s(e.target.value)},type:"text",placeholder:"Undersigned Name",class:"input-control2 rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("textarea",{value:O,onChange:function(e){return m(e.target.value)},type:"text",placeholder:"Notice",class:"input-control2 rounded",style:{height:"150px"},required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"btn btn-dark rounded-pill input-control2",type:"submit",placeholder:"\uf062 Publish",value:"Publish",onClick:{noticePage:function(){window.location.href="/notice"}}})]})]})]})},S=n(15),C=n(16),R=n(17),D=n(18),P=[],T=function(e){Object(R.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(S.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,person:null},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://hms-nist.herokuapp.com/api/notice",e.next=3,fetch("https://hms-nist.herokuapp.com/api/notice");case 3:return t=e.sent,e.next=6,t.json();case 6:for(n=e.sent,a=n.user.length-1;a>=-1;a--)this.setState({person:n,loading:!1}),P.push(n.user[a]),console.log(n.user[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsx)("h1",{children:"Notice Board"}),Object(u.jsx)("p",{children:"Updates on upcoming events, important announcements and other reminders."}),Object(u.jsx)("div",{children:P.map((function(e){return Object(u.jsxs)("div",{class:"alert notice-box",children:[Object(u.jsx)("h6",{className:"notice-title",children:Object(u.jsxs)("strong",{children:[" ",e.noticetitle]})}),Object(u.jsx)("hr",{className:"notice-hr"}),Object(u.jsxs)("p",{className:"notice",children:[Object(u.jsx)("i",{className:"icon fas fa-calendar fa-1x"})," ",Object(u.jsx)("i",{children:e.date})]}),Object(u.jsx)("p",{className:"notice-text",children:e.notice}),Object(u.jsxs)("p",{className:"notice",children:[Object(u.jsx)("strong",{children:"By "}),Object(u.jsx)("i",{children:e.name})]})]})}))})]})}}]),n}(s.a.Component);var A=function(){var e=Object(l.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),j=o[0],p=o[1],O=Object(a.useState)(""),m=Object(d.a)(O,2),x=m[0],f=m[1],g=Object(a.useState)(""),v=Object(d.a)(g,2),N=v[0],y=v[1],k=Object(a.useState)(""),w=Object(d.a)(k,2),S=w[0],C=w[1],R=Object(a.useState)(""),D=Object(d.a)(R,2),P=D[0],T=D[1],A=Object(a.useState)(""),B=Object(d.a)(A,2),M=B[0],I=B[1],E=Object(a.useState)(""),q=Object(d.a)(E,2),L=q[0],F=q[1],H=Object(a.useState)(""),J=Object(d.a)(H,2),V=J[0],G=J[1],W=Object(a.useState)(""),U=Object(d.a)(W,2),z=U[0],_=U[1];function K(){return(K=Object(i.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("https://hms-nist.herokuapp.com/api/studentregister",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,gender:L,phone:j,address:x,roll:N,registration:S,dob:V,aadhar:z,email:P,password:M})});case 3:return a=t.sent,t.next=6,a.json();case 6:"ok"===t.sent.status&&e.push("/studentlogin");case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Student Register"}),Object(u.jsx)("p",{children:"Create your Profile!"}),Object(u.jsxs)("form",{onSubmit:function(e){return K.apply(this,arguments)},children:[Object(u.jsx)("input",{value:s,onChange:function(e){return c(e.target.value)},type:"text",placeholder:"\uf007  Fullname",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:P,onChange:function(e){return T(e.target.value)},type:"email",placeholder:"\uf0e0  E-mail",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:M,onChange:function(e){return I(e.target.value)},type:"password",placeholder:"\uf023  Password",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:j,onChange:function(e){return p(e.target.value)},type:"tel",minlength:"10",maxlength:"10",placeholder:"\uf095  Phone Number",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:x,onChange:function(e){return f(e.target.value)},type:"text",placeholder:"\uf015  Address",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsxs)("select",{className:"dropdown-text input-control rounded-pill",id:"dropdown",onChange:function(e){return F(e.target.value)},children:[Object(u.jsx)("option",{value:"gender",disabled:!0,selected:!0,hidden:!0,style:{padding:"20%"},children:"\uf224   Gender"}),Object(u.jsx)("option",{value:"Male",children:"Male"}),Object(u.jsx)("option",{value:"Female",children:"Female"}),Object(u.jsx)("option",{value:"Others",children:"Others"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:V,onChange:function(e){return G(e.target.value)},type:"text",max:"2004-06-01",placeholder:"\uf133   Date of Birth",onFocus:function(e){return e.target.type="date"},onBlur:function(e){return e.target.type="date"},class:"dropdown-text input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:z,onChange:function(e){return _(e.target.value)},type:"number",minlength:"12",maxlength:"12",placeholder:"\uf2bb  Aadhar Number",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:N,onChange:function(e){return y(e.target.value)},type:"number",minlength:"9",maxlength:"9",placeholder:"#  Roll Number",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:S,onChange:function(e){return C(e.target.value)},type:"number",minlength:"10",maxlength:"10",placeholder:"#  Registration Number",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{class:"input-control btn btn-dark rounded-pill",type:"submit",value:"Register"})]})]})]})};n(352),n(353),n(367);var B=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("nav",{className:"sticky-top navbar navbar-expand-lg navbar-dark",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)("a",{className:"navbar-brand",href:"/",children:[Object(u.jsx)("i",{class:"nav-icon fas fa-building fa-1x"})," HMS"]}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(u.jsxs)("ul",{className:"navbar-nav",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/",children:"Home"})}),Object(u.jsxs)("li",{className:"nav-item dropdown",children:[Object(u.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Login"}),Object(u.jsxs)("ul",{class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"dropdown-item",href:"/login",children:"Staff"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"dropdown-item",href:"/studentlogin",children:"Student"})})]})]}),Object(u.jsxs)("li",{className:"nav-item dropdown",children:[Object(u.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Register"}),Object(u.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"dropdown-item",href:"/register",children:"Staff"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{className:"dropdown-item",href:"/studentregistration",children:"Student"})})]})]})]})})]})}),Object(u.jsx)("section",{className:"white-section container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-lg-6",children:[Object(u.jsx)("h1",{className:"big-heading",children:"Welcome!"}),Object(u.jsx)("p",{className:"greeting-text",children:"The best place for students to stay!"}),Object(u.jsx)("button",{className:"btn-explore btn btn-dark btn-lg rounded-pill",onClick:function(){window.location.href="#features"},children:"Explore"})]}),Object(u.jsx)("div",{class:"col-lg-6",children:Object(u.jsx)("img",{src:"../images/hostel.png"})})]})}),Object(u.jsx)("section",{className:"colored-section",id:"features",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("h1",{children:"Key Features"}),Object(u.jsxs)("div",{className:"feature-box col-lg-4",children:[Object(u.jsx)("i",{className:"f-icon icon fas fa-bed fa-2x"}),Object(u.jsx)("h3",{className:"feature-title",children:"Comfort"}),Object(u.jsx)("p",{children:"Self contained rooms with AC and wi-fi facilities."})]}),Object(u.jsxs)("div",{className:"feature-box col-lg-4",children:[Object(u.jsx)("i",{className:"f-icon icon fas fa-briefcase-medical fa-2x"}),Object(u.jsx)("h3",{className:"feature-title",children:"Hygiene"}),Object(u.jsx)("p",{children:"From food to laundry, cleanliness is our priority."})]}),Object(u.jsxs)("div",{className:"feature-box col-lg-4",children:[Object(u.jsx)("i",{className:"f-icon icon fas fa-check-circle fa-2x"}),Object(u.jsx)("h3",{className:"feature-title",children:"Safety"}),Object(u.jsx)("p",{children:"24X7 complete student security."})]}),Object(u.jsxs)("div",{className:"feature-box col-lg-4",children:[Object(u.jsx)("i",{className:"f-icon icon fas fa-gift fa-2x"}),Object(u.jsx)("h3",{className:"feature-title",children:"Events"}),Object(u.jsx)("p",{children:"Engaging activities for refreshment."})]}),Object(u.jsxs)("div",{className:"feature-box col-lg-4",children:[Object(u.jsx)("i",{className:"f-icon icon fas fa-user fa-2x"}),Object(u.jsx)("h3",{className:"feature-title",children:"Housekeeping"}),Object(u.jsx)("p",{children:"Friendly and interactive staff available for support."})]}),Object(u.jsxs)("div",{className:"feature-box col-lg-4",children:[Object(u.jsx)("i",{className:"f-icon icon fas fa-desktop fa-2x"}),Object(u.jsx)("h3",{className:"feature-title",children:"Efficient Management"}),Object(u.jsx)("p",{children:"Paperless management of hostel activities."})]})]})}),Object(u.jsxs)("footer",{className:"container-fluid",children:[Object(u.jsxs)("div",{className:"row information ",children:[Object(u.jsxs)("div",{className:"info-col col-lg-6",children:[Object(u.jsx)("p",{className:"info",children:"CONTACT"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("i",{class:"footer-icon icon fas fa-globe"}),"303M HMS Street"]}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("i",{class:"footer-icon icon fas fa-phone"}),"+91 9876543210"]}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("i",{class:"footer-icon icon fas fa-envelope"}),"hms@gmail.com"]})]}),Object(u.jsxs)("div",{className:"info-col col-lg-6",children:[Object(u.jsx)("p",{className:"info",children:"WEBSITE CREATORS"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("i",{class:"footer-icon icon fas fa-user"}),"Rishiraj Behera"]}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("i",{class:"footer-icon icon fas fa-user"}),"Shweta Anmesha Tripathy"]})]})]}),Object(u.jsx)("p",{className:"copyright",children:"\xa9 Copyright 2022 All Rights Reserved"})]})]})};var M=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(d.a)(c,2),o=r[0],l=r[1];function j(){return(j=Object(i.a)(b.a.mark((function e(t){var a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/studentlogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:o})});case 3:return a=e.sent,e.next=6,a.json();case 6:(s=e.sent).user?(localStorage.setItem("token",s.user),alert("Login successful"),window.location.href="/studentdashboard"):(alert("Incorrect Password or Email"),window.location.href="/studentlogin");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Student Login"}),Object(u.jsx)("p",{children:"Welcome back! Log in to access your profile."}),Object(u.jsxs)("form",{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(u.jsx)("input",{value:n,onChange:function(e){return s(e.target.value)},type:"email",required:!0,placeholder:"\uf0e0  E-mail",class:"input-control rounded-pill"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:o,onChange:function(e){return l(e.target.value)},type:"password",required:!0,placeholder:"\uf023  Password",class:"input-control rounded-pill"}),Object(u.jsx)("br",{}),Object(u.jsx)("a",{className:"forgot-password",href:"/forgotpassword",children:Object(u.jsx)("p",{children:"Forgot Password?"})}),Object(u.jsx)("input",{class:"btn btn-dark input-control rounded-pill",type:"submit",value:"Login"})]}),Object(u.jsx)("button",{class:"btn btn-control btn-light rounded-pill",onClick:function(){window.location.href="/studentregistration"},children:"Register"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})]})},I=[],E=function(e){Object(R.a)(n,e);var t=Object(D.a)(n);function n(e){var a;return Object(S.a)(this,n),(a=t.call(this,e)).state={loading:!0,person:null},a.state={inputValue:""},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(b.a.mark((function e(t){var n,a,s,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=localStorage.getItem("token"))||(x.a.decode(n),window.location="/login"),"https://hms-nist.herokuapp.com/api/studentlogin",e.next=5,fetch("https://hms-nist.herokuapp.com/api/studentlogin");case 5:return a=e.sent,e.next=8,a.json();case 8:if(s=e.sent,null!=t)for(c=0;c<s.user.length;c++)this.setState({person:s,loading:!1}),s.user[c].roll!=t&&s.user[c].name.toLowerCase()!=t.toLowerCase()&&s.user[c].registration!=t&&s.user[c].phone!=t&&s.user[c].email!=t||(I.length=0,I.push(s.user[c]));else if(null==t)for(r=s.user.length-1;r>=0;r--)this.setState({person:s,loading:!1}),I.push(s.user[r]);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(i.a)(b.a.mark((function e(t,n,a){var s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={roll:t},{room:n},c={rid:a},e.next=5,k.a.post("https://hms-nist.herokuapp.com/api/studentdelete",s);case 5:return e.sent,e.next=8,k.a.post("https://hms-nist.herokuapp.com/api/roomdeallocate",c);case 8:e.sent,window.location.reload(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"refreshPage",value:function(){window.location.reload()}},{key:"updateInputValue",value:function(e){this.setState({inputValue:e.target.value})}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsx)("h1",{children:"Student Details"}),Object(u.jsx)("input",{className:"search-bar rounded-pill",id:"number",type:"text",placeholder:" \uf002  Search",onChange:function(t){var n=t.target.value;e.componentDidMount(n)}}),Object(u.jsx)("button",{class:"clr-btn btn btn-dark rounded-pill",onClick:this.refreshPage,children:"Clear"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),this.state.loading||!this.state.person?Object(u.jsx)("div",{children:"loading..."}):Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"tbl",children:Object(u.jsxs)("table",{className:"sortable css-serial table table-borderless table-sm",style:{width:"80%",textAlign:"center",margin:"1% auto"},children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{style:{backgroundColor:"#46244C",color:"white"},children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Phone Number"}),Object(u.jsx)("th",{children:"E-mail"}),Object(u.jsx)("th",{children:"Address"}),Object(u.jsx)("th",{children:"Gender"}),Object(u.jsx)("th",{children:"DOB"}),Object(u.jsx)("th",{children:"Aadhar Number"}),Object(u.jsx)("th",{children:"Roll Number"}),Object(u.jsx)("th",{children:"Registration Number"}),Object(u.jsx)("th",{children:"Block"}),Object(u.jsx)("th",{children:"Room"}),Object(u.jsx)("th",{})]})}),Object(u.jsx)("tbody",{children:I.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:t.name}),Object(u.jsx)("td",{children:t.phone}),Object(u.jsx)("td",{children:t.email}),Object(u.jsx)("td",{children:t.address}),Object(u.jsx)("td",{children:t.gender}),Object(u.jsx)("td",{children:t.dob}),Object(u.jsx)("td",{children:t.aadhar}),Object(u.jsx)("td",{children:t.roll}),Object(u.jsx)("td",{children:t.registration}),Object(u.jsx)("td",{children:t.block}),Object(u.jsx)("td",{children:t.rid}),Object(u.jsxs)("td",{children:[" ",Object(u.jsxs)("button",{className:"btn btn-sm btn-light",style:{paddingTop:"4%",marginTop:"5%"},onDoubleClick:function(){return e.delete(t.roll,t.room,t.rid)},children:[Object(u.jsx)("i",{className:"fas fa-ban"})," Remove"]}),Object(u.jsx)("br",{})]})]})}))})]})})})]})}}]),n}(s.a.Component),q=[],L=function(e){Object(R.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(S.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,person:null},e}return Object(C.a)(n,[{key:"delete",value:function(){var e=Object(i.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={nid:t},e.next=3,k.a.post("https://hms-nist.herokuapp.com/api/noticedelete",n);case 3:e.sent,window.location.reload(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(i.a)(b.a.mark((function e(){var t,n,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem("token"))||(x.a.decode(t),window.location="/login"),"https://hms-nist.herokuapp.com/api/notice",e.next=5,fetch("https://hms-nist.herokuapp.com/api/notice");case 5:return n=e.sent,e.next=8,n.json();case 8:for(a=e.sent,s=a.user.length-1;s>=-1;s--)this.setState({person:a,loading:!1}),q.push(a.user[s]),console.log(a.user[0]);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsx)("h1",{children:"Notice Board"}),Object(u.jsx)("p",{children:"Updates on upcoming events, important announcements and other reminders."}),Object(u.jsx)("div",{children:q.map((function(t){return Object(u.jsxs)("div",{class:"alert notice-box",children:[Object(u.jsx)("h6",{className:"notice-title",children:Object(u.jsx)("strong",{children:t.noticetitle})}),Object(u.jsx)("hr",{className:"notice-hr"}),Object(u.jsxs)("p",{className:"notice",children:[Object(u.jsx)("i",{className:"icon fas fa-calendar fa-1x"})," ",Object(u.jsx)("i",{children:t.date})]}),Object(u.jsx)("p",{className:"notice-text",children:t.notice}),Object(u.jsxs)("p",{className:"notice",children:[Object(u.jsx)("strong",{children:"By"})," ",Object(u.jsx)("i",{children:t.name})]}),Object(u.jsxs)("button",{className:"notice-btn btn btn-dark rounded-pill",onDoubleClick:function(){return e.delete(t.nid)},children:[Object(u.jsx)("i",{className:"fas fa-trash fa-1x"})," Delete"]})]})}))})]})}}]),n}(s.a.Component);var F=function(){var e=Object(l.e)(),t=Object(a.useState)([]),n=Object(d.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),o=Object(d.a)(r,2),j=o[0],p=o[1],O=Object(a.useState)([]),m=Object(d.a)(O,2),f=m[0],g=m[1],v=Object(a.useState)([]),N=Object(d.a)(v,2),y=N[0],k=N[1],w=Object(a.useState)([]),S=Object(d.a)(w,2),C=S[0],R=S[1],D=Object(a.useState)([]),P=Object(d.a)(D,2),T=P[0],A=P[1],B=Object(a.useState)([]),M=Object(d.a)(B,2),I=M[0],E=M[1],q=Object(a.useState)([]),L=Object(d.a)(q,2),F=L[0],H=L[1],J=Object(a.useState)([]),V=Object(d.a)(J,2),G=V[0],W=V[1],U=Object(a.useState)([]),z=Object(d.a)(U,2),_=z[0],K=z[1],Y=Object(a.useState)([]),X=Object(d.a)(Y,2),Q=X[0],Z=X[1],$=Object(a.useState)([]),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),se=Object(d.a)(ae,2),ce=se[0],re=se[1],oe=Object(a.useState)([]),le=Object(d.a)(oe,2),ie=le[0],de=le[1],je=Object(a.useState)([]),be=Object(d.a)(je,2),ue=be[0],he=be[1],pe=Object(a.useState)([]),Oe=Object(d.a)(pe,2),me=Oe[0],xe=Oe[1],fe=Object(a.useState)([]),ge=Object(d.a)(fe,2),ve=ge[0],Ne=ge[1],ye=Object(a.useState)([]),ke=Object(d.a)(ye,2),we=ke[0],Se=ke[1],Ce=Object(a.useState)([]),Re=Object(d.a)(Ce,2),De=Re[0],Pe=Re[1],Te=Object(a.useState)([]),Ae=Object(d.a)(Te,2),Be=Ae[0],Me=Ae[1],Ie=Object(a.useState)([]),Ee=Object(d.a)(Ie,2),qe=Ee[0],Le=Ee[1],Fe=Object(a.useState)([]),He=Object(d.a)(Fe,2),Je=He[0],Ve=He[1],Ge=Object(a.useState)([]),We=Object(d.a)(Ge,2),Ue=We[0],ze=We[1],_e=Object(a.useState)([]),Ke=Object(d.a)(_e,2),Ye=Ke[0],Xe=Ke[1],Qe=Object(a.useState)([]),Ze=Object(d.a)(Qe,2),$e=Ze[0],et=Ze[1],tt=Object(a.useState)([]),nt=Object(d.a)(tt,2),at=nt[0],st=nt[1],ct=Object(a.useState)([]),rt=Object(d.a)(ct,2),ot=rt[0],lt=rt[1],it=Object(a.useState)([]),dt=Object(d.a)(it,2),jt=dt[0],bt=dt[1],ut=Object(a.useState)([]),ht=Object(d.a)(ut,2),pt=ht[0],Ot=ht[1],mt=Object(a.useState)([]),xt=Object(d.a)(mt,2),ft=xt[0],gt=xt[1],vt=Object(a.useState)([]),Nt=Object(d.a)(vt,2),yt=Nt[0],kt=Nt[1],wt=Object(a.useState)([]),St=Object(d.a)(wt,2),Ct=St[0],Rt=St[1],Dt=[];function Pt(){return(Pt=Object(i.a)(b.a.mark((function e(t){var n,a,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/allotroom",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roll:j,block:Je,room:s})});case 3:return n=e.sent,e.next=6,fetch("https://hms-nist.herokuapp.com/api/hostelbill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roll:j,hostelbill:2e3})});case 6:return a=e.sent,e.next=9,n.json();case 9:return c=e.sent,e.next=12,a.json();case 12:r=e.sent,c.status&&"ok"===r.status&&(alert("Room Allotted"),window.location.href="/AllottedStudents");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var t=localStorage.getItem("token");t?x.a.decode(t)||(localStorage.removeItem("token"),e.replace("/studentlogin")):e.push("/studentlogin")}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Room Allotment"}),Object(u.jsxs)("form",{onSubmit:function(e){return Pt.apply(this,arguments)},children:[Object(u.jsx)("input",{value:j,onChange:function(e){return p(e.target.value)},type:"number",placeholder:"Roll Number",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsxs)("select",{className:"dropdown-text input-control rounded-pill",id:"dropdown",onChange:function(e){var t=localStorage.getItem("token"),n=(x.a.decode(t),0);return fetch("https://hms-nist.herokuapp.com/api/room").then((function(e){return e.json()})).then((function(t){for(var a=0;a<t.user.length;a+=1)t.user[a].occupancy<4&&"Girls Wing"==e.target.value?"Girls Wing"==t.user[a].block&&(Ve(t.user[a].block),0==n?(c(t.user[a].room),ze(t.user[a].rid),ne(t.user[a].occupancy),n++):1==n&&t.user[a].room!=s?(g(t.user[a].room),Xe(t.user[a].rid),re(t.user[a].occupancy),n++):2==n&&t.user[a].room!=f?(k(t.user[a].room),et(t.user[a].rid),de(t.user[a].occupancy),n++):3==n&&t.user[a].room!=y?(R(t.user[a].room),st(t.user[a].rid),he(t.user[a].occupancy),n++):4==n&&t.user[a].room!=C?(A(t.user[a].room),lt(t.user[a].rid),xe(t.user[a].occupancy),n++):5==n&&t.user[a].room!=T?(E(t.user[a].room),bt(t.user[a].rid),Ne(t.user[a].occupancy),n++):6==n&&t.user[a].room!=I?(H(t.user[a].room),Ot(t.user[a].rid),Se(t.user[a].occupancy),n++):7==n&&t.user[a].room!=F?(W(t.user[a].room),gt(t.user[a].rid),Pe(t.user[a].occupancy),n++):8==n&&t.user[a].room!=G?(K(t.user[a].room),kt(t.user[a].rid),Me(t.user[a].occupancy),n++):(Z(t.user[a].room),Rt(t.user[a].rid),Le(t.user[a].occupancy),n++)):t.user[a].occupancy<4&&"Boys Wing"==e.target.value&&"Boys Wing"==t.user[a].block&&(Ve(t.user[a].block),0==n?(c(t.user[a].room),ze(t.user[a].rid),ne(t.user[a].occupancy),n++):1==n&&t.user[a].room!=s?(g(t.user[a].room),Xe(t.user[a].rid),re(t.user[a].occupancy),n++):2==n&&t.user[a].room!=f?(et(t.user[a].rid),k(t.user[a].room),de(t.user[a].occupancy),n++):3==n&&t.user[a].room!=y?(st(t.user[a].rid),R(t.user[a].room),he(t.user[a].occupancy),n++):4==n&&t.user[a].room!=C?(lt(t.user[a].rid),A(t.user[a].room),xe(t.user[a].occupancy),n++):5==n&&t.user[a].room!=T?(bt(t.user[a].rid),E(t.user[a].room),Ne(t.user[a].occupancy),n++):6==n&&t.user[a].room!=I?(Ot(t.user[a].rid),H(t.user[a].room),Se(t.user[a].occupancy),n++):7==n&&t.user[a].room!=F?(gt(t.user[a].rid),W(t.user[a].room),Pe(t.user[a].occupancy),n++):8==n&&t.user[a].room!=G?(kt(t.user[a].rid),K(t.user[a].room),Me(t.user[a].occupancy),n++):9==n&&t.user[a].room!=Q&&(Rt(t.user[a].rid),Z(t.user[a].room),Le(t.user[a].occupancy),n++))})),{item:Dt}},children:[Object(u.jsx)("option",{value:"Block",disabled:!0,selected:!0,hidden:!0,children:"Block"}),Object(u.jsx)("option",{value:"Girls Wing",children:"Girls Wing"}),Object(u.jsx)("option",{value:"Boys Wing",children:"Boys Wing"})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("select",{className:"dropdown-text input-control rounded-pill",id:"dropdown",onChange:function(e){return c(e.target.value)},children:[Object(u.jsx)("option",{value:"Room",disabled:!0,selected:!0,hidden:!0,children:"Room"}),Object(u.jsxs)("option",{value:s,children:["Room: ",Ue,", Occupancy: ",te]}),Object(u.jsxs)("option",{value:f,children:["Room: ",Ye,", Occupancy: ",ce]}),Object(u.jsxs)("option",{value:y,children:["Room: ",$e,", Occupancy: ",ie]}),Object(u.jsxs)("option",{value:C,children:["Room: ",at,", Occupancy: ",ue]}),Object(u.jsxs)("option",{value:T,children:["Room: ",ot,", Occupancy: ",me]}),Object(u.jsxs)("option",{value:I,children:["Room: ",jt,", Occupancy: ",ve]}),Object(u.jsxs)("option",{value:F,children:["Room: ",pt,", Occupancy: ",we]}),Object(u.jsxs)("option",{value:G,children:["Room: ",ft,", Occupancy: ",De]}),Object(u.jsxs)("option",{value:_,children:["Room: ",yt,", Occupancy: ",Be]}),Object(u.jsxs)("option",{value:Q,children:["Room: ",Ct,", Occupancy: ",qe]})]}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{class:"input-control btn btn-dark rounded-pill",type:"submit",value:"Allot"})]})]})]})},H=[],J=[],V=function(e){Object(R.a)(n,e);var t=Object(D.a)(n);function n(e){var a;return Object(S.a)(this,n),(a=t.call(this,e)).state={loading:!0,person:null},a.state={inputValue:""},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(b.a.mark((function e(t){var n,a,s,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=localStorage.getItem("token"))||(x.a.decode(n),window.location="/login"),"https://hms-nist.herokuapp.com/api/studentlogin",e.next=5,fetch("https://hms-nist.herokuapp.com/api/studentlogin");case 5:return a=e.sent,e.next=8,a.json();case 8:if(s=e.sent,null!=t)for(c=0;c<s.user.length;c++)this.setState({person:s,loading:!1}),s.user[c].room!=t&&s.user[c].block!=t&&s.user[c].phone!=t&&s.user[c].name.toLowerCase()!=t.toLowerCase()||(H.length=0,H.push(s.user[c]),console.log(H[0]));else if(null==t)for(r=s.user.length-1;r>=0;r--)this.setState({person:s,loading:!1}),null!=s.user[r].room?(H.push(s.user[r]),console.log(s.user[0])):null==s.user[r].room&&J.push(s.user[r]);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshPage",value:function(){window.location.reload()}},{key:"updateInputValue",value:function(e){this.setState({inputValue:e.target.value})}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsx)("h1",{children:"Allotted Students"}),Object(u.jsx)("input",{class:"search-bar rounded-pill",type:"text",placeholder:" \uf002  Search",onChange:function(t){var n=t.target.value;e.componentDidMount(n)}}),Object(u.jsx)("button",{class:"clr-btn btn btn-dark rounded-pill",onClick:this.refreshPage,children:"Clear"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"tbl",children:Object(u.jsxs)("table",{class:"css-serial table table-borderless table-sm",style:{width:"60%",margin:"0 auto"},children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{style:{backgroundColor:"#46244C",color:"white"},children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{scope:"col",children:"Name"}),Object(u.jsx)("th",{scope:"col",children:"Roll Number"}),Object(u.jsx)("th",{scope:"col",children:"Phone Number"}),Object(u.jsx)("th",{scope:"col",children:"Block"}),Object(u.jsx)("th",{scope:"col",children:"Room"})]})}),Object(u.jsx)("tbody",{children:H.map((function(e){return Object(u.jsxs)("tr",{scope:"row",children:[Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.roll}),Object(u.jsx)("td",{children:e.phone}),Object(u.jsx)("td",{children:e.block}),Object(u.jsx)("td",{children:e.rid})]})}))})]})}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("h1",{children:"Unallotted Students"}),Object(u.jsx)("div",{className:"tbl",children:Object(u.jsxs)("table",{class:"css-serial table table-borderless table-sm",style:{width:"60%",textAlign:"center",margin:"2% auto"},children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{style:{backgroundColor:"#46244C",color:"white"},children:[Object(u.jsx)("th",{children:"#"}),Object(u.jsx)("th",{scope:"col",children:"Name"}),Object(u.jsx)("th",{scope:"col",children:"Roll Number"}),Object(u.jsx)("th",{scope:"col",children:"Phone Number"}),Object(u.jsx)("th",{scope:"col",children:"Aadhar"}),Object(u.jsx)("th",{scope:"col",children:"Gender"})]})}),Object(u.jsx)("tbody",{children:J.map((function(e){return Object(u.jsxs)("tr",{scope:"row",children:[Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.roll}),Object(u.jsx)("td",{children:e.phone}),Object(u.jsx)("td",{children:e.aadhar}),Object(u.jsx)("td",{children:e.gender})]})}))})]})})]})}}]),n}(s.a.Component),G=function(){var e=Object(l.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),s=(n[0],n[1],Object(a.useState)("")),c=Object(d.a)(s,2),r=(c[0],c[1],Object(a.useState)("")),o=Object(d.a)(r,2),i=(o[0],o[1],Object(a.useState)("")),j=Object(d.a)(i,2);j[0],j[1];return Object(a.useEffect)((function(){var t=localStorage.getItem("token");if(!t){x.a.decode(t);e.push("/login")}})),Object(u.jsxs)("div",{children:[Object(u.jsx)("nav",{className:"sticky-top navbar navbar-expand-lg navbar-dark",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)("a",{className:"navbar-brand",href:"/",children:[Object(u.jsx)("i",{class:"nav-icon fas fa-building fa-1x"})," HMS"]}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(u.jsx)("ul",{className:"navbar-nav",children:Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link active","aria-current":"page",onClick:function(){window.localStorage.clear(),window.location.href="/login"},href:"/login",children:"Logout"})})})})]})}),Object(u.jsx)("h1",{children:"Staff Dashboard"}),Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-lg-6",children:Object(u.jsx)("img",{className:"dashboard-img",src:"../images/mess-staff.png"})}),Object(u.jsxs)("div",{className:"btn-col col-lg-6",children:[Object(u.jsxs)("button",{className:"btn-dashboard btn btn-dark rounded-pill",onClick:function(){window.location.href="/menuupdate"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-utensils"}),"Update Menu"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-light rounded-pill",onClick:function(){window.location.href="/vendor"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-shopping-basket"}),"Allot Vendor"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-dark rounded-pill",onClick:function(){window.location.href="/vendordisplay"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-list"}),"Vendor Details"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn  btn-light rounded-pill",onClick:function(){window.location.href="/roomclean"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-broom"}),"Room Clean Requests"]}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-dashboard btn btn-dark rounded-pill",onClick:function(){window.location.href="/messbill"},children:[Object(u.jsx)("i",{className:"dashboard-icon fas fa-money-bill"}),"Mess Bill"]}),Object(u.jsx)("br",{})]})]})})]})},W=function(){var e=Object(l.e)(),t=Object(a.useState)([]),n=Object(d.a)(t,2),s=(n[0],n[1],Object(a.useState)([])),c=Object(d.a)(s,2),r=c[0],o=c[1],i=Object(a.useState)([]),j=Object(d.a)(i,2),b=j[0],p=j[1],O=Object(a.useState)([]),m=Object(d.a)(O,2),f=m[0],g=m[1],v=Object(a.useState)([]),N=Object(d.a)(v,2),y=N[0],k=N[1],w=Object(a.useState)([]),S=Object(d.a)(w,2),C=S[0],R=S[1],D=Object(a.useState)([]),P=Object(d.a)(D,2),T=P[0],A=P[1],B=Object(a.useState)([]),M=Object(d.a)(B,2),I=M[0],E=M[1],q=Object(a.useState)([]),L=Object(d.a)(q,2),F=L[0],H=L[1],J=Object(a.useState)([]),V=Object(d.a)(J,2),G=V[0],W=V[1],U=Object(a.useState)([]),z=Object(d.a)(U,2),_=z[0],K=z[1],Y=Object(a.useState)([]),X=Object(d.a)(Y,2),Q=X[0],Z=X[1],$=Object(a.useState)([]),ee=Object(d.a)($,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){var t=localStorage.getItem("token");t?x.a.decode(t)?ae():(localStorage.removeItem("token"),e.replace("/studentlogin")):e.push("/studentlogin")}));var ae=function(){var e=localStorage.getItem("token");x.a.decode(e);fetch("https://hms-nist.herokuapp.com/api/foodtoday").then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.user.length;t+=1)"Breakfast"==e.user[t].foodname?(W(e.user[t].main),o(e.user[t].vegfood),R(e.user[t].nonvegfood)):"Lunch"==e.user[t].foodname?(K(e.user[t].main),p(e.user[t].vegfood),A(e.user[t].nonvegfood)):"Snacks"==e.user[t].foodname?(Z(e.user[t].main),g(e.user[t].vegfood),E(e.user[t].nonvegfood)):"Dinner"==e.user[t].foodname&&(ne(e.user[t].main),k(e.user[t].vegfood),H(e.user[t].nonvegfood))}))};return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"Today's Menu!"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-lg-3 col-md-6",children:Object(u.jsxs)("div",{class:"card",style:{marginBottom:"15%"},children:[Object(u.jsx)("img",{class:"card-img-top",src:"..//images/coffee.png"}),Object(u.jsx)("div",{class:"card-body",children:Object(u.jsx)("h5",{class:"card-title",children:"Breakfast"})}),Object(u.jsxs)("ul",{class:"list-group list-group-flush",children:[Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",G]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",r]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",C]})]})]})}),Object(u.jsx)("div",{className:"col-lg-3 col-md-6",children:Object(u.jsxs)("div",{class:"card",children:[Object(u.jsx)("img",{class:"card-img-top",src:"..//images/rice.png"}),Object(u.jsx)("div",{class:"card-body",children:Object(u.jsx)("h5",{class:"card-title",children:"Lunch"})}),Object(u.jsxs)("ul",{class:"list-group list-group-flush",children:[Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",_]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",b]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",T]})]})]})}),Object(u.jsx)("div",{className:"col-lg-3 col-md-6",children:Object(u.jsxs)("div",{class:"card",children:[Object(u.jsx)("img",{class:"card-img-top",src:"..//images/hamburger.png"}),Object(u.jsx)("div",{class:"card-body",children:Object(u.jsx)("h5",{class:"card-title",children:"Snacks"})}),Object(u.jsxs)("ul",{class:"list-group list-group-flush",children:[Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",Q]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",f]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",I]})]})]})}),Object(u.jsx)("div",{className:"col-lg-3 col-md-6",children:Object(u.jsxs)("div",{class:"card",children:[Object(u.jsx)("img",{class:"card-img-top",src:"..//images/dinner.png"}),Object(u.jsx)("div",{class:"card-body",children:Object(u.jsx)("h5",{class:"card-title",children:"Dinner"})}),Object(u.jsxs)("ul",{class:"list-group list-group-flush",children:[Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",te]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",y]}),Object(u.jsxs)("li",{class:"list-group-item",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-utensils"})," ",F]})]})]})})]})]})]})},U=function(){var e=Object(l.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),j=o[0],p=o[1],O=Object(a.useState)(""),m=Object(d.a)(O,2),f=m[0],g=m[1],v=Object(a.useState)(""),N=Object(d.a)(v,2),y=N[0],k=N[1];function w(){return(w=Object(i.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("https://hms-nist.herokuapp.com/api/vendor",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({name:s,phone:j,fooditem:f,payment:y})});case 3:return a=t.sent,t.next=6,a.json();case 6:"ok"==t.sent.status&&(alert("Vendor Added"),e.push("/staffdashboard"));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var t=localStorage.getItem("token");if(!t){x.a.decode(t);e.push("/login")}})),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsx)("h1",{children:"Add Vendor Data"}),Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-lg-6",children:Object(u.jsx)("img",{className:"dashboard-img",src:"../images/vendor.png"})}),Object(u.jsx)("div",{className:"btn-col col-lg-6",children:Object(u.jsxs)("form",{className:"form1",onSubmit:function(e){return w.apply(this,arguments)},children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("label",{className:"label1",children:"Name:"}),Object(u.jsx)("input",{className:"input1 rounded-pill",required:!0,value:s,onChange:function(e){return c(e.target.value)},type:"text"}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("label",{className:"label1",children:"Phone Number:"}),Object(u.jsx)("input",{className:"input1 rounded-pill",value:j,onChange:function(e){return p(e.target.value)},type:"tel",minLength:"10",maxLength:"10",required:!0}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("label",{className:"label1",children:"Food Item:"}),Object(u.jsx)("input",{className:"input1 rounded-pill",required:!0,value:f,onChange:function(e){return g(e.target.value)},type:"text"}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("label",{className:"label1",children:"Payment:"}),Object(u.jsx)("input",{className:"input1 rounded-pill",required:!0,value:y,onChange:function(e){return k(e.target.value)},type:"number"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("button",{className:"btn btn-dark rounded-pill",children:[Object(u.jsx)("i",{className:"fas fa-plus"})," Add"]})]})})]})})]})},z=[],_=function(e){Object(R.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(S.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,person:null},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://hms-nist.herokuapp.com/api/vendor",e.next=3,fetch("https://hms-nist.herokuapp.com/api/vendor");case 3:return t=e.sent,e.next=6,t.json();case 6:for(n=e.sent,a=n.user.length-1;a>=-1;a--)this.setState({person:n,loading:!1}),z.push(n.user[a]),console.log(n.user[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsx)("center",{children:Object(u.jsx)("h1",{children:"Purchase History"})}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("table",{className:"table table-borderless table-responsive",style:{width:"60%",textAlign:"left",margin:"0 auto 5% auto"},children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{style:{backgroundColor:"#46244C",color:"white"},children:[Object(u.jsx)("th",{children:"Date & Time"}),Object(u.jsx)("th",{children:"Vendor"}),Object(u.jsx)("th",{children:"Items Bought"}),Object(u.jsx)("th",{children:"Amount Paid"})]})}),Object(u.jsx)("tbody",{children:z.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.date}),Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.fooditem}),Object(u.jsxs)("td",{children:[Object(u.jsx)("strong",{children:"\u20b9"})," ",e.payment," /-"]})]})}))})]})})]})}}]),n}(s.a.Component),K=(n(368),[]),Y=function(e){Object(R.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(S.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,person:null},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(b.a.mark((function e(){var t,n,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem("token"))||(x.a.decode(t),window.location.href="/login"),"https://hms-nist.herokuapp.com/api/clean",e.next=5,fetch("https://hms-nist.herokuapp.com/api/clean");case 5:return n=e.sent,e.next=8,n.json();case 8:for(a=e.sent,s=0;s<=a.user.length;)this.setState({person:a,loading:!1}),K.push(a.user[s]),s++;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(i.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={room:t},e.next=3,k.a.post("https://hms-nist.herokuapp.com/api/deleteclean",n);case 3:e.sent,window.location.reload(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"goBack",value:function(){window.location.href="/staffdashboard"}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsx)("h1",{children:"Room Clean Requests"}),Object(u.jsx)("div",{children:K.map((function(t){return Object(u.jsxs)("div",{style:{marginBottom:"2%"},children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:"Room:"})," ",t.room,", ",Object(u.jsx)("strong",{children:"Message:"}),t.clean]}),Object(u.jsx)("button",{className:"btn btn-light rounded-pill",onClick:function(){return e.delete(t.room)},children:"Room Cleaned"})]})}))}),Object(u.jsxs)("button",{className:"btn-control btn btn-dark rounded-pill",onClick:function(){return e.goBack()},children:[Object(u.jsx)("i",{className:"fas fa-arrow-left"}),"  Go Back"]})]})}}]),n}(s.a.Component),X=function(){var e=Object(l.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),j=o[0],p=o[1];function O(){return(O=Object(i.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/messbill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messbill:s,roll:j})});case 3:return n=e.sent,e.next=6,n.json();case 6:"ok"==e.sent.status&&(alert("Bill Added"),window.location.href="messbill");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var t=localStorage.getItem("token");if(!t){x.a.decode(t);e.push("/login")}})),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Mess Bill"}),Object(u.jsxs)("form",{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(u.jsx)("input",{className:"input-control2 rounded-pill",type:"number",placeholder:"Student Roll Number",value:j,required:!0,onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{className:"form-check-label",children:"Breakfast:"}),Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"food",value:s,onClick:function(e){return c(30)}}),Object(u.jsx)("label",{className:"form-check-label",children:"Veg"}),Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"food",value:s,onClick:function(e){return c(50)}}),Object(u.jsx)("label",{className:"form-check-label",children:"Non-Veg"}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{className:"form-check-label",children:"Lunch: "}),Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"food",value:s,onClick:function(e){return c(70)}}),Object(u.jsx)("label",{className:"form-check-label",children:"Veg"}),Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"food",value:s,onClick:function(e){return c(110)}}),Object(u.jsx)("label",{className:"form-check-label",children:"Non-Veg"}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{className:"form-check-label",children:"Snacks: "}),Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"food",value:s,onClick:function(e){return c(25)}}),Object(u.jsx)("label",{className:"form-check-label",children:"Veg"}),Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"food",value:s,onClick:function(e){return c(50)}}),Object(u.jsx)("label",{className:"form-check-label",children:"Non-Veg"}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{className:"form-check-label",children:"Dinner: "}),Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"food",value:s,onClick:function(e){return c(150)}}),Object(u.jsx)("label",{className:"form-check-label",children:"Veg"}),Object(u.jsx)("input",{className:"form-check-input",type:"radio",name:"food",value:s,onClick:function(e){return c(200)}}),Object(u.jsx)("label",{className:"form-check-label",children:" Non-Veg"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-control btn btn-dark rounded-pill",children:[Object(u.jsx)("i",{className:"fas fa-plus"})," Add Amount"]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("button",{className:"btn-control btn btn-light rounded-pill",onClick:function(){window.location.href="/staffdashboard"},children:[Object(u.jsx)("i",{className:"fas fa-arrow-left"})," Go Back"]})]})]})},Q=(n(369),function(){var e=Object(l.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),j=o[0],p=o[1],O=Object(a.useState)(""),m=Object(d.a)(O,2),f=m[0],g=m[1];function v(){return(v=Object(i.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/hostelbill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hostelbill:s,roll:f})});case 3:return n=e.sent,e.next=6,n.json();case 6:"ok"==e.sent.status&&(alert("Bill Added"),window.location.href="hostelbill");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(i.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/billforall",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({commonbill:j})});case 3:return n=e.sent,e.next=6,n.json();case 6:"ok"==e.sent.status&&(alert("Bill Added"),window.location.href="/wardendashboard");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var t=localStorage.getItem("token");if(!t){x.a.decode(t);e.push("/login")}})),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Hostel Bill"}),Object(u.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(u.jsx)("label",{className:"input-control2",style:{width:"17rem"},children:"Student Roll Number:"}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",style:{width:"20rem"},type:"number",placeholder:"Enter Roll Number",required:!0,value:f,onChange:function(e){return g(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{className:"input-control2",style:{width:"20rem"},children:"Electricity & Maintenance Charges:"}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",style:{width:"15rem"},type:"number",placeholder:"Enter Amount",required:!0,value:s,onChange:function(e){return c(e.target.value)}}),Object(u.jsxs)("button",{className:"btn btn-control btn-dark rounded-pill",style:{width:"8rem"},children:[Object(u.jsx)("i",{className:"fas fa-plus"}),"  Add"]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(u.jsx)("label",{className:"input-control2",style:{width:"20rem"},children:"Common Charges:"}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",style:{width:"15rem"},type:"number",placeholder:"Enter Amount",required:!0,value:j,onChange:function(e){return p(e.target.value)}}),Object(u.jsxs)("button",{className:"btn-control btn btn-dark rounded-pill",style:{width:"8rem"},children:[Object(u.jsx)("i",{className:"fas fa-plus"}),"  Add"]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]}),Object(u.jsxs)("button",{className:"btn-control btn btn-light rounded-pill",style:{width:"10rem"},onClick:function(){window.location.href="/wardendashboard"},children:[Object(u.jsx)("i",{className:"fas fa-arrow-left"}),"  Go Back"]})]})]})});function Z(e){return new Promise((function(t){var n=document.createElement("script");n.src=e,n.onload=function(){t(!0)},n.onerror=function(){t(!1)},document.body.appendChild(n)}))}var $=function(){var e=Object(l.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),j=o[0],p=o[1],O=Object(a.useState)(""),m=Object(d.a)(O,2),f=m[0],g=m[1],v=Object(a.useState)(""),N=Object(d.a)(v,2),y=N[0],k=N[1],w=Object(a.useState)(""),S=Object(d.a)(w,2),C=S[0],R=S[1];Object(a.useEffect)((function(){var t=localStorage.getItem("token");t?(x.a.decode(t)||(localStorage.removeItem("token"),e.replace("/login")),D()):e.push("/login")}));var D=function(){var e=localStorage.getItem("token"),t=x.a.decode(e);fetch("https://hms-nist.herokuapp.com/api/mybill").then((function(e){return e.json()})).then((function(e){for(var n=0;n<e.user.length;n+=1)t.roll==e.user[n].roll&&(console.log(t.roll),g(t.roll),p(e.user[n].hostelbill),c(e.user[n].messbill))}))};function P(){return P=Object(i.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z("https://checkout.razorpay.com/v1/checkout.js");case 2:if(e.sent){e.next=6;break}return alert("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 6:return e.next=8,fetch("https://hms-nist.herokuapp.com/api/razorpay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:j})}).then((function(e){return e.json()}));case 8:t=e.sent,console.log(t),n={key:"rzp_test_0tpemkHKm5K1Bc",currency:t.currency,amount:100*y,order_id:t.id,name:"Hostel Fees",description:"Amount To Be Paid For Hostel Mess Service",handler:function(e){function t(){return t=Object(i.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hms-nist.herokuapp.com/api/billpayed",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomFee:y,roll:f})});case 2:return n=e.sent,e.next=5,n.json();case 5:"ok"==e.sent.status&&(alert("Fees Paid"),window.location.href="mybill");case 7:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}!function(e){t.apply(this,arguments)}()},prefill:{name:"Your Name",email:"email@example.com",phone_number:"1234567890"}},new window.Razorpay(n).open();case 13:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function T(){return T=Object(i.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z("https://checkout.razorpay.com/v1/checkout.js");case 2:if(e.sent){e.next=6;break}return alert("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 6:return e.next=8,fetch("https://hms-nist.herokuapp.com/api/razorpay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:s})}).then((function(e){return e.json()}));case 8:t=e.sent,console.log(t),n={key:"rzp_test_0tpemkHKm5K1Bc",currency:t.currency,amount:100*C,order_id:t.id,name:"Mess Fees",description:"Amount To Be Paid For Hostel Room Service",handler:function(e){function t(){return t=Object(i.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hms-nist.herokuapp.com/api/paymessbill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messFee:C,roll:f})});case 2:return n=e.sent,e.next=5,n.json();case 5:"ok"==e.sent.status&&(alert("Fees Paid"),window.location.href="mybill");case 7:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}!function(e){t.apply(this,arguments)}()},prefill:{name:"Your Name",email:"email@example.com",phone_number:"1234567890"}},new window.Razorpay(n).open();case 13:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"My Bill"}),Object(u.jsxs)("p",{children:["Roll Number: ",f]}),Object(u.jsxs)("p",{children:["Hostel Charges: ",j]}),Object(u.jsxs)("p",{children:["Mess Charges: ",s]}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",type:"number",placeholder:"Enter Hostel Fee Amount",value:y,onChange:function(e){return k(e.target.value)}}),Object(u.jsxs)("button",{className:"btn-control btn btn-dark rounded-pill",onClick:function(){return P.apply(this,arguments)},children:[Object(u.jsx)("i",{className:"fas fa-money-check"})," Pay Hostel Fee"]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",type:"number",placeholder:"Enter Mess Fee Amount",value:C,onChange:function(e){return R(e.target.value)}}),Object(u.jsxs)("button",{className:"btn-control btn btn-light rounded-pill",onClick:function(){return T.apply(this,arguments)},children:[Object(u.jsx)("i",{className:"fas fa-money-check"})," Pay Mess Fee"]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("button",{className:"btn-control btn btn-dark rounded-pill",onClick:function(){window.location.href="/studentdashboard"},children:[Object(u.jsx)("i",{className:"fas fa-arrow-left"}),"  Go Back"]})]})]})},ee=function(){Object(l.e)();var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(d.a)(c,2),o=r[0],j=r[1],p=Object(a.useState)(""),O=Object(d.a)(p,2),m=O[0],x=O[1],f=Object(a.useState)(""),g=Object(d.a)(f,2),v=g[0],N=g[1];function y(){return(y=Object(i.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/forgotpassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,phone:o,password:m,aadhar:v})});case 3:return a=e.sent,e.next=6,a.json();case 6:"ok"==e.sent.status?(alert("Password Added"),window.location.href="studentlogin"):alert("Could Not Update Password");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsx)("form",{onSubmit:function(e){return y.apply(this,arguments)},children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Change Password"}),Object(u.jsx)("input",{className:"input-control rounded-pill",value:n,onChange:function(e){return s(e.target.value)},type:"email",placeholder:"\uf0e0  E-mail"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"input-control rounded-pill",value:o,onChange:function(e){return j(e.target.value)},type:"number",minLength:"10",maxLength:"10",placeholder:"\uf095  Phone Number"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"input-control rounded-pill",value:v,onChange:function(e){return N(e.target.value)},type:"number",placeholder:"\uf2bb  Aadhar Number"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"input-control rounded-pill",value:m,onChange:function(e){return x(e.target.value)},type:"password",placeholder:"\uf023  New Password"})," ",Object(u.jsx)("br",{})," ",Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"btn-control btn btn-dark rounded-pill",children:"Reset"})]})})]})},te=function(){var e=Object(l.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),j=o[0],p=o[1],O=Object(a.useState)(""),m=Object(d.a)(O,2),f=m[0],g=m[1],v=Object(a.useState)(""),N=Object(d.a)(v,2),y=N[0],k=N[1],w=Object(a.useState)(""),S=Object(d.a)(w,2),C=S[0],R=S[1],D=Object(a.useState)(""),P=Object(d.a)(D,2),T=P[0],A=P[1],B=Object(a.useState)(""),M=Object(d.a)(B,2),I=M[0];M[1];function E(){return(E=Object(i.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/studentupdate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roll:s,name:j,address:f,gender:y,phone:C,dob:I,nemail:T})});case 3:return n=e.sent,e.next=6,n.json();case 6:"ok"==e.sent.status&&(alert("Student Details Has Been Updated"),window.location.href="admindashboard");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var t=localStorage.getItem("token");if(!t){x.a.decode(t);alert("Error"),e.push("/admindashboard")}})),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Update Student Details"}),Object(u.jsxs)("form",{onSubmit:function(e){return E.apply(this,arguments)},children:[Object(u.jsx)("input",{className:"input-control2 rounded-pill",type:"number",placeholder:"#  Roll No",required:!0,value:s,onChange:function(e){return c(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",type:"text",placeholder:"\uf007  Fullname",required:!0,value:j,onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsxs)("select",{className:"dropdown-text input-control2 rounded-pill",id:"dropdown",onChange:function(e){return k(e.target.value)},children:[Object(u.jsx)("option",{value:"gender",disabled:!0,selected:!0,hidden:!0,style:{padding:"20%"},children:"\uf224   Gender"}),Object(u.jsx)("option",{value:"male",children:"Male"}),Object(u.jsx)("option",{value:"female",children:"Female"}),Object(u.jsx)("option",{value:"others",children:"Others"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:f,onChange:function(e){return g(e.target.value)},type:"text",placeholder:"\uf015  Address",class:"input-control rounded-pill",required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",type:"tel",minLength:"10",maxLength:"10",placeholder:"\uf095  Phone Number",required:!0,value:C,onChange:function(e){return R(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",type:"email",placeholder:"\uf0e0  E-mail ID",required:!0,value:T,onChange:function(e){return A(e.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"btn-control btn btn-dark rounded-pill",children:"Update Details"})]})]})]})},ne=n(200),ae=n.n(ne),se=[],ce=function(e){Object(R.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(S.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loading:!0,person:null},e}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(b.a.mark((function e(t){var n,a,s,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://hms-nist.herokuapp.com/api/generatereport",e.next=3,fetch("https://hms-nist.herokuapp.com/api/generatereport");case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,null==t)for(s=0;s<=a.user.length;s+=1)this.setState({person:a,loading:!1}),se.push(a.user[s]);else if(null!=t)for(se.length=0,c=a.user.length,r=0;r<c;r+=1)this.setState({person:a,loading:!1}),a.user[r].room!=t&&a.user[r].block.toUpperCase()!=t.toUpperCase()||se.push(a.user[r]),"boys wing"==t.toLowerCase()&&10==a.user[r].room&&se.push(a.user[c-1]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"goback",value:function(){window.location.href="/wardendashboard"}},{key:"refreshPage",value:function(){window.location.href="/generatereport"}},{key:"render",value:function(){for(var e=this,t=se.length,n=0,a=0;a<se.length;a+=1)n+=se[a].occupancy;var c=s.a.createRef();return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsxs)("div",{style:{width:"100%",height:"100%",textAlign:"center"},ref:c,children:[Object(u.jsx)("h1",{style:{marginTop:"2%",marginBottom:"1%"},children:"Hostel Report"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-lg-6",style:{backgroundColor:"white",width:"25%",textAlign:"center",marginRight:"7%",marginLeft:"17%",paddingTop:"0.9%",color:"black",borderRadius:"25px",marginTop:"2%",marginBottom:"0%",border:"1px solid black"},children:Object(u.jsxs)("p",{children:["Total Number of Rooms: ",t]})}),Object(u.jsx)("div",{className:"col-lg-6",style:{backgroundColor:"white",width:"25%",textAlign:"center",marginRight:"7%",marginLeft:"10%",paddingTop:"0.9%",color:"black",borderRadius:"25px",marginTop:"2%",marginBottom:"0%",border:"1px solid black"},children:Object(u.jsxs)("p",{children:["Total Number of Students: ",n]})})]}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"search-bar rounded-pill",type:"text",placeholder:" \uf002 Search",onChange:function(t){var n=t.target.value;e.componentDidMount(n)}}),Object(u.jsx)("button",{className:"btn btn-dark clr-btn rounded-pill",onClick:this.refreshPage,children:"Clear"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{children:Object(u.jsxs)("table",{style:{textAlign:"center",margin:"0 auto",width:"40%"},className:"table table-borderless",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"row",style:{backgroundColor:"#46244C",color:"white",marginTop:"2%"},children:[Object(u.jsx)("th",{className:"col",children:"Block"}),Object(u.jsx)("th",{className:"col",children:"Room"}),Object(u.jsx)("th",{className:"col",children:"Occupancy"})]})}),Object(u.jsx)("div",{children:se.map((function(e){return Object(u.jsxs)("tr",{className:"row",children:[Object(u.jsx)("td",{className:"col",children:e.block}),Object(u.jsx)("td",{className:"col",children:e.rid}),Object(u.jsx)("td",{className:"col",children:e.occupancy})]})}))})]})})]}),Object(u.jsxs)("div",{className:"row",style:{marginTop:"4%",marginBottom:"3%"},children:[Object(u.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(u.jsxs)("button",{className:"btn btn-dark btn-control rounded-pill",style:{float:"right"},onClick:this.goback,children:[Object(u.jsx)("i",{className:"fas fa-arrow-left"})," Go Back"]})}),Object(u.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6",children:Object(u.jsx)(ae.a,{options:{orientation:"landscape"},targetRef:c,filename:"Hostel-Report.pdf",children:function(e){var t=e.toPdf;return Object(u.jsxs)("button",{className:"btn btn-light btn-control rounded-pill",style:{float:"left"},onClick:t,children:[Object(u.jsx)("i",{className:"fas fa-print"})," PDF"]})}})})]})]})]})}}]),n}(s.a.Component),re=function(){var e=Object(l.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),j=o[0],p=o[1],O=Object(a.useState)(""),m=Object(d.a)(O,2),f=m[0],g=m[1],v=Object(a.useState)(""),N=Object(d.a)(v,2),y=N[0],k=N[1];function w(){return(w=Object(i.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://hms-nist.herokuapp.com/api/foodtoday",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({foodname:s,main:j,vegfood:f,nonvegfood:y})});case 3:return n=e.sent,e.next=6,n.json();case 6:"ok"==e.sent.status&&(alert("Food Published"),window.location.href="/menuupdate");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var t=localStorage.getItem("token");if(!t){x.a.decode(t);e.push("/login")}})),Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("h1",{children:"Add Menu"}),Object(u.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(u.jsxs)("select",{className:"dropdown-text input-control2 rounded-pill",id:"dropdown",style:{padding:"12px",margin:"25px"},onChange:function(e){return c(e.target.value)},children:[Object(u.jsx)("option",{value:"foodname",disabled:!0,selected:!0,hidden:!0,children:"Meal"}),Object(u.jsx)("option",{value:"Breakfast",children:"Breakfast"}),Object(u.jsx)("option",{value:"Lunch",children:"Lunch"}),Object(u.jsx)("option",{value:"Snacks",children:"Snacks"}),Object(u.jsx)("option",{value:"Dinner",children:"Dinner"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",value:j,name:"main course",type:"text",onChange:function(e){return p(e.target.value)},placeholder:"\uf2e7  Main Course"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",value:f,onChange:function(e){return g(e.target.value)},placeholder:"\uf787  Veg",name:"vegfood"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{className:"input-control2 rounded-pill",value:y,onChange:function(e){return k(e.target.value)},placeholder:"\uf7fb  Non-veg",name:"nonvegfood"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"btn btn-control btn-dark rounded-pill",children:"Send"})]}),Object(u.jsx)("br",{})]})]})},oe=function(){var e=Object(l.e)(),t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)([]),j=Object(d.a)(o,2),p=j[0],O=j[1],m=Object(a.useState)([]),f=Object(d.a)(m,2),g=f[0],v=f[1],N=Object(a.useState)([]),y=Object(d.a)(N,2),k=y[0],w=y[1],S=Object(a.useState)([]),C=Object(d.a)(S,2),R=C[0],D=C[1],P=Object(a.useState)([]),T=Object(d.a)(P,2),A=T[0],B=T[1],M=Object(a.useState)([]),I=Object(d.a)(M,2),E=I[0],q=I[1],L=Object(a.useState)([]),F=Object(d.a)(L,2),H=(F[0],F[1],Object(a.useState)([])),J=Object(d.a)(H,2),V=J[0],G=J[1],W=Object(a.useState)([]),U=Object(d.a)(W,2),z=(U[0],U[1]),_=Object(a.useState)([]),K=Object(d.a)(_,2),Y=K[0],X=K[1],Q=Object(a.useState)([]),Z=Object(d.a)(Q,2),$=Z[0],ee=Z[1],te=Object(a.useState)([]),ne=Object(d.a)(te,2),ae=ne[0],se=ne[1],ce=s.a.useState(!1),re=Object(d.a)(ce,2),oe=(re[0],re[1]),le=[];Object(a.useEffect)((function(){var t=localStorage.getItem("token");t?(x.a.decode(t)||(localStorage.removeItem("token"),e.replace("/studentlogin")),ie()):e.push("/studentlogin")}),[]);var ie=function(){var e=localStorage.getItem("token"),t=x.a.decode(e);return fetch("https://hms-nist.herokuapp.com/api/studentlogin").then((function(e){return e.json()})).then((function(e){for(var n=0;n<e.user.length;n+=1)t.email==e.user[n].email&&(r(e.user[n].name),O(e.user[n].phone),v(e.user[n].email),w(e.user[n].address),D(e.user[n].roll),q(e.user[n].registration),G(e.user[n].rid),B(e.user[n].block),X(e.user[n].gender),ee(e.user[n].dob),se(e.user[n].aadhar))})),function(){de.apply(this,arguments)}(),{item:le}};function de(){return(de=Object(i.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),n=x.a.decode(t),e.next=4,fetch("https://hms-nist.herokuapp.com/api/clean").then((function(e){return e.json()})).then((function(e){for(var t=0;t<e.user.length;t++){if(n.rid==e.user[t].room){console.log("What is this?"+JSON.stringify(e.user[t])),console.log(n.rid),z("Request For Room Cleaning is Made"),oe(!0);break}V!=e.user[t].room&&oe(!1)}}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{children:[Object(u.jsx)(h,{}),Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("h1",{children:"My Details"}),Object(u.jsx)("table",{id:"myDetails",className:"details-table table table-borderless box",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-user",children:" "}),"Name:"]})}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:c})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-phone"}),"Phone Number:"]})}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:p})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-envelope",children:" "}),"E-mail:"]})," "]}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:g})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-home",children:" "}),"Address:"]})}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:k})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-venus-mars",children:" "}),"Gender:"]})," "]}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:Y})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-calendar",children:" "}),"Date of Birth:"]})," "]}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:$})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-address-card",children:" "}),"Aadhar Number:"]})," "]}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:ae})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-hashtag",children:" "}),"Roll Number:"]})," "]}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:R})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-hashtag",children:" "}),"Registration Number:"]})," "]}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:E})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-building",children:" "}),"Block:"]})," "]}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:A})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsxs)("strong",{className:"details",children:[Object(u.jsx)("i",{className:"footer-icon fas fa-door-closed"}),"Room:"]})," "]}),Object(u.jsx)("td",{children:Object(u.jsx)("strong",{className:"details-input",children:V})})]})]})})]})]})},le=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(l.a,{path:"/login",exact:!0,component:p}),Object(u.jsx)(l.a,{path:"/register",exact:!0,component:O}),Object(u.jsx)(l.a,{path:"/studentdashboard",exact:!0,component:f}),Object(u.jsx)(l.a,{path:"/logout",exact:!0,component:g}),Object(u.jsx)(l.a,{path:"/admindashboard",exact:!0,component:v}),Object(u.jsx)(l.a,{path:"/wardendashboard",exact:!0,component:N}),Object(u.jsx)(l.a,{path:"/notice",exact:!0,component:w}),Object(u.jsx)(l.a,{path:"/noticedisplay",exact:!0,component:T}),Object(u.jsx)(l.a,{path:"/studentregistration",exact:!0,component:A}),Object(u.jsx)(l.a,{path:"/",exact:!0,component:B}),Object(u.jsx)(l.a,{path:"/studentlogin",exact:!0,component:M}),Object(u.jsx)(l.a,{path:"/studentdetails",exact:!0,component:E}),Object(u.jsx)(l.a,{path:"/adminNotice",exact:!0,component:L}),Object(u.jsx)(l.a,{path:"/roomallotment",exact:!0,component:F}),Object(u.jsx)(l.a,{path:"/allottedstudents",exact:!0,component:V}),Object(u.jsx)(l.a,{path:"/staffdashboard",exact:!0,component:G}),Object(u.jsx)(l.a,{path:"/menudisplay",exact:!0,component:W}),Object(u.jsx)(l.a,{path:"/vendor",exact:!0,component:U}),Object(u.jsx)(l.a,{path:"/vendordisplay",exact:!0,component:_}),Object(u.jsx)(l.a,{path:"/roomclean",exact:!0,component:Y}),Object(u.jsx)(l.a,{path:"/messbill",exact:!0,component:X}),Object(u.jsx)(l.a,{path:"/mybill",exact:!0,component:$}),Object(u.jsx)(l.a,{path:"/hostelbill",exact:!0,component:Q}),Object(u.jsx)(l.a,{path:"/forgotpassword",exact:!0,component:ee}),Object(u.jsx)(l.a,{path:"/studentupdate",exact:!0,component:te}),Object(u.jsx)(l.a,{path:"/generatereport",exact:!0,component:ce}),Object(u.jsx)(l.a,{path:"/menuupdate",exact:!0,component:re}),Object(u.jsx)(l.a,{path:"/studentmydetails",exact:!0,component:oe})]})})};r.a.render(Object(u.jsx)(le,{}),document.getElementById("root"))}},[[402,1,2]]]);
//# sourceMappingURL=main.f205f3cd.chunk.js.map