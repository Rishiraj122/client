{"ast":null,"code":"var _jsxFileName = \"/Users/sherlock/Desktop/client/src/components/StudentUpdate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport jwt from 'jsonwebtoken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst StudentUpdate = () => {\n  _s();\n\n  const history = useHistory();\n  const [roll, setRoll] = useState('');\n  const [name, setName] = useState('');\n  const [address, setAddress] = useState('');\n  const [gender, setGender] = useState('');\n  const [phone, setPhone] = useState('');\n  const [nemail, setNemail] = useState('');\n  const [dob, setDob] = useState('');\n\n  async function updateDetails(event) {\n    event.preventDefault();\n    const response = await fetch('https://hms-nist.herokuapp.com/api/studentupdate', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        roll,\n        name,\n        address,\n        gender,\n        phone,\n        dob,\n        nemail\n      })\n    });\n    const data = await response.json();\n\n    if (data.status == 'ok') {\n      alert(\"Student Details Has Been Updated\");\n      window.location.href = \"admindashboard\";\n    }\n  }\n\n  useEffect(() => {\n    //useEffect react hook to tell React that \n    //components need to do something on render\n    const token = localStorage.getItem('token');\n\n    if (!token) {\n      const user = jwt.decode(token); // for authentication\n\n      alert(\"Error\");\n      history.push('/admindashboard'); //if authentication fails load the login page\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Update Student Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: updateDetails,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-control2 rounded-pill\",\n          type: \"number\",\n          placeholder: \"#  Roll No\",\n          required: true,\n          value: roll,\n          onChange: e => setRoll(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 174\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-control2 rounded-pill\",\n          type: \"text\",\n          placeholder: \"\\uF007  Fullname\",\n          required: true,\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 175\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"dropdown-text input-control2 rounded-pill\",\n          id: \"dropdown\",\n          onChange: e => setGender(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"gender\",\n            disabled: true,\n            selected: true,\n            hidden: true,\n            style: {\n              padding: \"20%\"\n            },\n            children: \"\\uF224   Gender\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"male\",\n            children: \"Male\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"female\",\n            children: \"Female\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"others\",\n            children: \"Others\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-control2 dropdown-text rounded-pill\",\n          type: \"date\",\n          placeholder: \"\\uF133   Date of Birth\",\n          value: dob,\n          onChange: e => setDob(e.target.value),\n          max: \"2004-06-01\",\n          onFocus: e => e.target.type = \"date\",\n          onBlur: e => e.target.type = \"date\",\n          class: \"dropdown-text input-control rounded-pill\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: address,\n          onChange: e => setAddress(e.target.value),\n          type: \"text\",\n          placeholder: \"\\uF015  Address\",\n          class: \"input-control rounded-pill\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-control2 rounded-pill\",\n          type: \"tel\",\n          minLength: \"10\",\n          maxLength: \"10\",\n          placeholder: \"\\uF095  Phone Number\",\n          required: true,\n          value: phone,\n          onChange: e => setPhone(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 210\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-control2 rounded-pill\",\n          type: \"email\",\n          placeholder: \"\\uF0E0  E-mail ID\",\n          required: true,\n          value: nemail,\n          onChange: e => setNemail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 181\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 186\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-control btn btn-dark rounded-pill\",\n          children: \"Update Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(StudentUpdate, \"hA56lN/UB9Rk/G/c+e53AKxj9xo=\", false, function () {\n  return [useHistory];\n});\n\n_c = StudentUpdate;\nexport default StudentUpdate;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentUpdate\");","map":{"version":3,"names":["React","useState","useEffect","useHistory","Header","jwt","StudentUpdate","history","roll","setRoll","name","setName","address","setAddress","gender","setGender","phone","setPhone","nemail","setNemail","dob","setDob","updateDetails","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","status","alert","window","location","href","token","localStorage","getItem","user","decode","push","e","target","value","padding","type"],"sources":["/Users/sherlock/Desktop/client/src/components/StudentUpdate.js"],"sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport jwt from 'jsonwebtoken'\n\nconst StudentUpdate=()=>{\n\nconst history=useHistory();\n\nconst[roll,setRoll]=useState('');\nconst[name,setName]=useState('');\nconst[address,setAddress]=useState('');\nconst[gender,setGender]=useState('');\nconst[phone,setPhone]=useState('');\nconst[nemail,setNemail]=useState('');\nconst[dob, setDob] = useState('');\n\n\nasync function updateDetails(event){\n    \n    event.preventDefault();\n\n    const response = await fetch('https://hms-nist.herokuapp.com/api/studentupdate',{\n        method: 'POST',\n        headers:{\n            'Content-Type':'application/json',\n        },\n        body: JSON.stringify({\n            roll,\n            name,\n            address,\n            gender,\n            phone,\n            dob,\n            nemail\n        })\n    })\n\n    const data = await response.json();\n    if(data.status=='ok'){\n        alert(\"Student Details Has Been Updated\");\n        window.location.href=\"admindashboard\";\n    }\n\n}\n\nuseEffect(() => { //useEffect react hook to tell React that \n    //components need to do something on render\n    const token = localStorage.getItem('token');\n    if(!token) {\n        const user = jwt.decode(token) // for authentication\n        alert(\"Error\")\n        history.push('/admindashboard')//if authentication fails load the login page\n    }\n})\n\nreturn(\n    \n    <div>\n        <Header/>\n        <div className=\"box\">\n        <h1>Update Student Details</h1>\n        <form onSubmit={updateDetails}>\n            <input className=\"input-control2 rounded-pill\" type=\"number\" placeholder=\"&#x23;  Roll No\" required value={roll} onChange={(e)=>setRoll(e.target.value)}></input><br/>\n            \n            <input className=\"input-control2 rounded-pill\" type=\"text\" placeholder=\"&#xf007;  Fullname\" required value={name} onChange={(e)=>setName(e.target.value)}></input><br/>\n            \n            <select className=\"dropdown-text input-control2 rounded-pill\" id=\"dropdown\" onChange={(e) => setGender(e.target.value)}>\n                <option value=\"gender\" disabled selected hidden style={{padding:\"20%\"}}>&#xf224;   Gender</option>\n                <option value=\"male\">Male</option>\n                <option value=\"female\">Female</option>\n                <option value=\"others\">Others</option>\n            </select>\n            <br/>\n            \n            <input\n                className='input-control2 dropdown-text rounded-pill' type=\"date\" placeholder=\"&#xf133;   Date of Birth\"\n                value={dob}\n                onChange={(e)=>setDob(e.target.value)}\n                max=\"2004-06-01\"\n                onFocus={(e)=>(e.target.type=\"date\")}\n\t\t\t\tonBlur={(e)=>(e.target.type=\"date\")}\n\t\t\t\tclass=\"dropdown-text input-control rounded-pill\"\n\t\t\t\trequired\n            />\n            <br/>\n\n            \n            \n            <input\n                value={address}\n                onChange={(e) => setAddress(e.target.value)}\n                type=\"text\"\n                placeholder=\"&#xf015;  Address\"\n                class=\"input-control rounded-pill\"\n                required\n            />\n             <br/>\n                \n            <input className=\"input-control2 rounded-pill\" type=\"tel\" minLength=\"10\" maxLength=\"10\" placeholder=\"&#xf095;  Phone Number\" required value={phone} onChange={(e)=>setPhone(e.target.value)}></input><br/>\n            \n            <input className=\"input-control2 rounded-pill\" type=\"email\" placeholder=\"&#xf0e0;  E-mail ID\" required value={nemail} onChange={(e)=>setNemail(e.target.value)}></input><br/><br/>\n            \n            <button className=\"btn-control btn btn-dark rounded-pill\">Update Details</button>\n        </form>\n        </div>\n\n    </div>\n)\n}\nexport default StudentUpdate;"],"mappings":"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"},"metadata":{},"sourceType":"module"}