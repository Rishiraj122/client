{"ast":null,"code":"var _jsxFileName = \"/Users/sherlock/Desktop/HMS/client/src/components/Notice.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Header from './Header.js';\nimport jwt from 'jsonwebtoken';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Notice() {\n  _s();\n\n  const [name, setName] = useState('');\n  const [noticetitle, setNoticetite] = useState('');\n  const [notice, setNotice] = useState('');\n\n  const noticePage = () => {\n    window.location.href = '/notice';\n  }; //Publish Notice\n\n\n  axios({\n    method: 'get',\n    url: 'https://api.github.com/users/hacktivist123'\n  });\n\n  async function publishNotice(event) {\n    event.preventDefault();\n    const response = await fetch('http://localhost:1337/api/notice', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        noticetitle,\n        notice,\n        notices: []\n      })\n    });\n    const data = await response.json();\n\n    if (data.status == 'ok') {\n      alert('Notice Published');\n    }\n  }\n\n  useEffect(() => {\n    //useEffect react hook to tell React that \n    //components need to do something on render\n    const token = localStorage.getItem('token');\n\n    if (!token) {\n      const user = jwt.decode(token); // for authentication\n\n      window.location.href = \"/login\"; // history.push('/login'); //if authentication fails load the login page\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      class: \"box container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Publish Notice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: publishNotice,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: noticetitle,\n          onChange: e => setNoticetite(e.target.value),\n          type: \"text\",\n          placeholder: \"Notice Title\",\n          class: \"input-control2 rounded-pill\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: name,\n          onChange: e => setName(e.target.value),\n          type: \"text\",\n          placeholder: \"Undersigned Name\",\n          class: \"input-control2 rounded-pill\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: notice,\n          onChange: e => setNotice(e.target.value),\n          type: \"text\",\n          placeholder: \"Notice\",\n          class: \"input-control2 rounded\",\n          style: {\n            height: \"150px\"\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"btn btn-dark rounded-pill input-control2\",\n          type: \"submit\",\n          placeholder: \"\\uF062 Publish\",\n          value: \"Publish\",\n          onClick: {\n            noticePage\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Notice, \"UfLQEAv9t4F+l1efnklL29Q1wVg=\");\n\n_c = Notice;\nexport default Notice;\n\nvar _c;\n\n$RefreshReg$(_c, \"Notice\");","map":{"version":3,"names":["React","useEffect","useState","axios","Header","jwt","useHistory","Notice","name","setName","noticetitle","setNoticetite","notice","setNotice","noticePage","window","location","href","method","url","publishNotice","event","preventDefault","response","fetch","headers","body","JSON","stringify","notices","data","json","status","alert","token","localStorage","getItem","user","decode","e","target","value","height"],"sources":["/Users/sherlock/Desktop/HMS/client/src/components/Notice.js"],"sourcesContent":["import React, {useEffect,useState} from 'react'\nimport axios from 'axios'\nimport Header from './Header.js'\nimport jwt from 'jsonwebtoken'\nimport { useHistory } from 'react-router-dom'\n\nfunction Notice () {\n\n    const [name,setName] = useState('')\n    const [noticetitle,setNoticetite] = useState('')\n    const [notice,setNotice] = useState('')\n\n    const noticePage = () =>{\n        window.location.href='/notice';\n    }\n\n    //Publish Notice\n    axios({\n        method: 'get',\n        url: 'https://api.github.com/users/hacktivist123',\n      });\n\n    async function publishNotice(event){\n        event.preventDefault()\n        const response = await fetch('http://localhost:1337/api/notice',{\n            method: 'POST',\n            headers: {\n                'Content-Type':'application/json',\n            },\n            body: JSON.stringify({\n                name,\n                noticetitle,\n                notice,\n                notices:[]\n            }),\n        })\n        const data=await response.json()\n        if (data.status == 'ok') {\n            alert('Notice Published')\n\t\t}\n    }\n\n    useEffect(() => { //useEffect react hook to tell React that \n        //components need to do something on render\n        const token = localStorage.getItem('token');\n        if(!token) {\n            const user = jwt.decode(token) // for authentication\n            window.location.href=\"/login\"\n            // history.push('/login'); //if authentication fails load the login page\n        }\n    })\n\n\n    return(\n        <div>\n        <Header />\n        <section class=\"box container-fluid\">\n            <h1>Publish Notice</h1>\n            <form onSubmit={publishNotice}>\n            <input\n\t\t\t\t\tvalue={noticetitle}\n                    onChange={(e) => setNoticetite(e.target.value)}\n                    type=\"text\"\n                    placeholder=\"Notice Title\"\n                    class=\"input-control2 rounded-pill\"\n                    required\n\t\t\t\t/>\n\t\t\t\t<br />\n                <input\n\t\t\t\t\tvalue={name}\n                    onChange={(e) => setName(e.target.value)}\n                    type=\"text\"\n                    placeholder=\"Undersigned Name\"\n                    class=\"input-control2 rounded-pill\"\n                    required\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<textarea\n\t\t\t\t\tvalue={notice}\n                    onChange ={(e) => setNotice(e.target.value)}\n                    type=\"text\"\n                    placeholder=\"Notice\"\n                    class=\"input-control2 rounded\"\n                    style={{height:\"150px\"}}\n                    required\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<input className=\"btn btn-dark rounded-pill input-control2\" type=\"submit\"  placeholder=\"&#xf062; Publish\" value=\"Publish\" onClick={{noticePage}}/>\n\t\t\t</form>\n            </section>\n\n        </div>\n    )\n}\n\nexport default Notice"],"mappings":"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"},"metadata":{},"sourceType":"module"}