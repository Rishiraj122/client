{"ast":null,"code":"import _asyncToGenerator from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import{useHistory}from\"react-router-dom\";import Header from'./Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ForgotPassword=function ForgotPassword(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),phone=_useState4[0],setPhone=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),aadhar=_useState8[0],setAadhar=_useState8[1];function changePassword(_x){return _changePassword.apply(this,arguments);}function _changePassword(){_changePassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('https://hms-nist.herokuapp.com/api/forgotpassword',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,phone:phone,password:password,aadhar:aadhar})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.status=='ok'){alert(\"Password Added\");window.location.href=\"studentlogin\";}else{alert(\"Could Not Update Password\");}case 8:case\"end\":return _context.stop();}}},_callee);}));return _changePassword.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"form\",{onSubmit:changePassword,children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Change Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control rounded-pill\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\",placeholder:\"\\uF0E0  E-mail\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control rounded-pill\",value:phone,onChange:function onChange(e){return setPhone(e.target.value);},type:\"number\",minLength:\"10\",maxLength:\"10\",placeholder:\"\\uF095  Phone Number\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control rounded-pill\",value:aadhar,onChange:function onChange(e){return setAadhar(e.target.value);},type:\"number\",placeholder:\"\\uF2BB  Aadhar Number\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control rounded-pill\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\",placeholder:\"\\uF023  New Password\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-control btn btn-dark rounded-pill\",children:\"Reset\"})]})})]});};export default ForgotPassword;","map":{"version":3,"names":["React","useState","useEffect","useHistory","Header","ForgotPassword","history","email","setEmail","phone","setPhone","password","setPassword","aadhar","setAadhar","changePassword","event","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","status","alert","window","location","href","e","target","value"],"sources":["/Users/sherlock/Desktop/HMS copy/client/src/components/ForgotPassword.js"],"sourcesContent":["import React,{useState, useEffect} from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport Header from './Header';\n\nconst ForgotPassword=()=>{\n    const history=useHistory();\n\n    const [email,setEmail]=useState('');\n    const [phone,setPhone]=useState('');\n    const [password,setPassword]=useState('');\n    const [aadhar, setAadhar]=useState('');\n    \n    async function changePassword(event){\n        event.preventDefault();\n\n        const response = await fetch('https://hms-nist.herokuapp.com/api/forgotpassword',{\n            method: 'POST',\n            headers:{\n                'Content-Type':'application/json',\n            },\n            body: JSON.stringify({\n                email,\n                phone,\n                password,\n                aadhar\n            })\n        })\n\n        const data = await response.json()\n\n        if(data.status=='ok'){\n            alert(\"Password Added\");\n            window.location.href=\"studentlogin\"\n        } else{\n            alert(\"Could Not Update Password\")\n        }\n    }\n\n    return(\n        <div>\n            <Header/>\n            <form onSubmit={changePassword}>\n                <div className=\"box\">\n                    <h1>Change Password</h1>\n                        <input className=\"input-control rounded-pill\" value={email} onChange={(e)=>setEmail(e.target.value)} type=\"email\" placeholder=\"&#xf0e0;  E-mail\"></input><br/>\n                        <input className=\"input-control rounded-pill\" value={phone} onChange={(e)=>setPhone(e.target.value)} type=\"number\" minLength=\"10\" maxLength=\"10\" placeholder=\"&#xf095;  Phone Number\"></input><br/>\n                        <input className=\"input-control rounded-pill\" value={aadhar} onChange={(e)=>setAadhar(e.target.value)} type=\"number\" placeholder=\"&#xf2bb;  Aadhar Number\"></input><br/>\n                        <input className=\"input-control rounded-pill\" value={password} onChange={(e)=>setPassword(e.target.value)} type=\"password\" placeholder=\"&#xf023;  New Password\"></input> <br/> <br/>\n                        <button className=\"btn-control btn btn-dark rounded-pill\">Reset</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default ForgotPassword;"],"mappings":"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"},"metadata":{},"sourceType":"module"}