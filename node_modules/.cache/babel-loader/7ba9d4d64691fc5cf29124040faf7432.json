{"ast":null,"code":"import _asyncToGenerator from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import Header from'./Header';import jwt from'jsonwebtoken';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MessBill=function MessBill(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),messbill=_useState2[0],setMessbill=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),roll=_useState4[0],setRoll=_useState4[1];function addMess(_x){return _addMess.apply(this,arguments);}function _addMess(){_addMess=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('https://hms-nist.herokuapp.com/api/messbill',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({messbill:messbill,roll:roll})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.status=='ok'){alert(\"Bill Added\");window.location.href=\"messbill\";}case 8:case\"end\":return _context.stop();}}},_callee);}));return _addMess.apply(this,arguments);}var goBack=function goBack(){window.location.href=\"/staffdashboard\";};useEffect(function(){//useEffect react hook to tell React that \n//components need to do something on render\nvar token=localStorage.getItem('token');if(!token){var user=jwt.decode(token);// for authentication\nhistory.push('/login');//if authentication fails load the login page\n}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mess Bill\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addMess,children:[/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",type:\"number\",placeholder:\"Student Roll Number\",value:roll,required:true,onChange:function onChange(e){return setRoll(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Breakfast:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"food\",value:messbill,onClick:function onClick(e){return setMessbill(30);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Veg\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"food\",value:messbill,onClick:function onClick(e){return setMessbill(50);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Non-Veg\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Lunch: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"food\",value:messbill,onClick:function onClick(e){return setMessbill(70);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Veg\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"food\",value:messbill,onClick:function onClick(e){return setMessbill(110);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Non-Veg\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Snacks: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"food\",value:messbill,onClick:function onClick(e){return setMessbill(25);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Veg\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"food\",value:messbill,onClick:function onClick(e){return setMessbill(50);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Non-Veg\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Dinner: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"food\",value:messbill,onClick:function onClick(e){return setMessbill(150);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"Veg\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"food\",value:messbill,onClick:function onClick(e){return setMessbill(200);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\" Non-Veg\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-control btn btn-dark rounded-pill\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Add Amount\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-control btn btn-light rounded-pill\",onClick:goBack,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\" Go Back\"]})]})]});};export default MessBill;","map":{"version":3,"names":["React","useEffect","useState","useHistory","Header","jwt","MessBill","history","messbill","setMessbill","roll","setRoll","addMess","event","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","status","alert","window","location","href","goBack","token","localStorage","getItem","user","decode","push","e","target","value"],"sources":["/Users/sherlock/Desktop/HMS copy/client/src/components/MessBill.js"],"sourcesContent":["import React,{useEffect, useState} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from './Header'\nimport jwt from 'jsonwebtoken'\n\nconst MessBill=()=>{\n    const history = useHistory()\n\n    const [messbill,setMessbill]=useState('');\n    const [roll,setRoll]=useState('');\n\n    async function addMess(event){\n        event.preventDefault();\n\n        const response = await fetch('https://hms-nist.herokuapp.com/api/messbill',{\n            method: 'POST',\n            headers:{\n                'Content-Type':'application/json',\n            },\n            body: JSON.stringify({\n                messbill,\n                roll\n            })\n        })\n\n        const data = await response.json()\n\n        if(data.status=='ok'){\n            alert(\"Bill Added\");\n            window.location.href=\"messbill\"\n        }\n\n    }\n\n    const goBack=()=>{\n        window.location.href=\"/staffdashboard\"\n    }\n\n    useEffect(() => { //useEffect react hook to tell React that \n        //components need to do something on render\n        const token = localStorage.getItem('token');\n        if(!token) {\n            const user = jwt.decode(token) // for authentication\n            history.push('/login'); //if authentication fails load the login page\n        }\n    })\n\n\n    return(\n        <div>\n            <Header/>\n            <div className=\"box\">\n            <h1>Mess Bill</h1>\n\n                    <form onSubmit={addMess}>\n                    \n                    <input className=\"input-control2 rounded-pill\" type=\"number\" placeholder=\"Student Roll Number\" value={roll} required onChange={(e)=>setRoll(e.target.value)}></input><br/><br/>\n\n                        <label className=\"form-check-label\">Breakfast:</label>\n                        <input className=\"form-check-input\" type=\"radio\" name=\"food\" value={messbill} onClick={(e)=>setMessbill(30)}></input>\n                        <label className=\"form-check-label\">Veg</label>\n                        <input className=\"form-check-input\" type=\"radio\" name=\"food\" value={messbill} onClick={(e)=>setMessbill(50)}></input>\n                        <label className=\"form-check-label\">Non-Veg</label>\n                        <br/>\n                    \n                    <label className=\"form-check-label\">Lunch: </label>\n                    <input className=\"form-check-input\" type=\"radio\" name=\"food\" value={messbill} onClick={(e)=>setMessbill(70)}></input>\n                    <label className=\"form-check-label\">Veg</label>\n                    <input className=\"form-check-input\" type=\"radio\" name=\"food\" value={messbill} onClick={(e)=>setMessbill(110)}></input>\n                    <label className=\"form-check-label\">Non-Veg</label>\n                    <br/>\n    \n                    <label className=\"form-check-label\">Snacks: </label>\n                    <input className=\"form-check-input\" type=\"radio\" name=\"food\" value={messbill} onClick={(e)=>setMessbill(25)}></input>\n                    <label className=\"form-check-label\">Veg</label>\n                    <input className=\"form-check-input\" type=\"radio\" name=\"food\" value={messbill} onClick={(e)=>setMessbill(50)}></input>\n                    <label className=\"form-check-label\">Non-Veg</label>\n                    <br/>\n    \n                    <label className=\"form-check-label\">Dinner: </label>\n                    <input className=\"form-check-input\" type=\"radio\" name=\"food\" value={messbill} onClick={(e)=>setMessbill(150)}></input>\n                    <label className=\"form-check-label\">Veg</label>\n                    <input className=\"form-check-input\" type=\"radio\" name=\"food\" value={messbill} onClick={(e)=>setMessbill(200)}></input>\n                    <label className=\"form-check-label\"> Non-Veg</label>\n                    <br/><br/><br/>\n    \n                    <button className=\"btn-control btn btn-dark rounded-pill\"><i className=\"fas fa-plus\"></i> Add Amount</button><br/><br/>\n                </form>\n                <button className=\"btn-control btn btn-light rounded-pill\" onClick={goBack}><i className=\"fas fa-arrow-left\"></i> Go Back</button>\n               \n            </div>\n\n            \n        </div>\n    )\n}\n\nexport default MessBill;"],"mappings":"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"},"metadata":{},"sourceType":"module"}