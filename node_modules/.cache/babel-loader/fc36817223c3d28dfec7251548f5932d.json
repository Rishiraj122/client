{"ast":null,"code":"import _asyncToGenerator from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';import jwt from'jsonwebtoken';import{useHistory}from'react-router-dom';import Header from'../components/Header.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MenuUpdate=function MenuUpdate(){var history=useHistory();//history instance a react hook\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),foodname=_useState2[0],setFoodname=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),main=_useState4[0],setMain=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),vegfood=_useState6[0],setVegfood=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),nonvegfood=_useState8[0],setNonvegfood=_useState8[1];var logout=function logout(){window.localStorage.clear();//to clear the localstorage of the user, so when \n//a user logs out it's login local storage is cleared\nwindow.location.href='/login';};var vendor=function vendor(){window.location.href='/vendordisplay';};var roomClean=function roomClean(){window.location.href='/roomclean';};var messBill=function messBill(){window.location.href='/messbill';};function publishFood(_x){return _publishFood.apply(this,arguments);}function _publishFood(){_publishFood=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('https://hms-nist.herokuapp.com/api/foodtoday',{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify({foodname:foodname,main:main,vegfood:vegfood,nonvegfood:nonvegfood})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.status=='ok'){alert(\"Food Published\");window.location.href='/menuupdate';}case 8:case\"end\":return _context.stop();}}},_callee);}));return _publishFood.apply(this,arguments);}useEffect(function(){//useEffect react hook to tell React that \n//components need to do something on render\nvar token=localStorage.getItem('token');if(!token){var user=jwt.decode(token);// for authentication\nhistory.push('/login');//if authentication fails load the login page\n}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add Menu\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:publishFood,children:[/*#__PURE__*/_jsxs(\"select\",{className:\"dropdown-text input-control2 rounded-pill\",id:\"dropdown\",style:{padding:\"12px\",margin:\"25px\"},onChange:function onChange(e){return setFoodname(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"foodname\",disabled:true,selected:true,hidden:true,children:\"Meal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Breakfast\",children:\"Breakfast\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Lunch\",children:\"Lunch\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Snacks\",children:\"Snacks\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Dinner\",children:\"Dinner\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",value:main,name:\"main course\",type:\"text\",onChange:function onChange(e){return setMain(e.target.value);},placeholder:\"\\uF2E7  Main Course\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",value:vegfood,onChange:function onChange(e){return setVegfood(e.target.value);},placeholder:\"\\uF787  Veg\",name:\"vegfood\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",value:nonvegfood,onChange:function onChange(e){return setNonvegfood(e.target.value);},placeholder:\"\\uF7FB  Non-veg\",name:\"nonvegfood\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-control btn-dark rounded-pill\",children:\"Send\"})]}),/*#__PURE__*/_jsx(\"br\",{})]})]});};export default MenuUpdate;","map":{"version":3,"names":["React","useEffect","useState","jwt","useHistory","Header","MenuUpdate","history","foodname","setFoodname","main","setMain","vegfood","setVegfood","nonvegfood","setNonvegfood","logout","window","localStorage","clear","location","href","vendor","roomClean","messBill","publishFood","event","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","status","alert","token","getItem","user","decode","push","padding","margin","e","target","value"],"sources":["/Users/sherlock/Desktop/HMS copy/client/src/components/MenuUpdate.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport jwt from 'jsonwebtoken'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Header from '../components/Header.js'\r\n\r\nconst MenuUpdate = () =>{\r\n    const history = useHistory();//history instance a react hook\r\n\r\n    const [foodname,setFoodname]=useState('');\r\n    const [main,setMain]=useState('');\r\n    const [vegfood,setVegfood]=useState('');\r\n    const [nonvegfood,setNonvegfood]=useState('');\r\n\r\n    const logout=()=>{\r\n        window.localStorage.clear();//to clear the localstorage of the user, so when \r\n                                    //a user logs out it's login local storage is cleared\r\n        window.location.href='/login'\r\n    }\r\n\r\n    const vendor=()=>{\r\n        window.location.href='/vendordisplay'\r\n    }\r\n\r\n    const roomClean=()=>{\r\n        window.location.href='/roomclean'\r\n    }\r\n\r\n    const messBill=()=>{\r\n        window.location.href='/messbill'\r\n    }\r\n\r\n    async function publishFood(event){\r\n        event.preventDefault();\r\n\r\n        const response = await fetch('https://hms-nist.herokuapp.com/api/foodtoday',{\r\n            method: 'POST',\r\n            headers:{\r\n                'Content-type':'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                foodname,\r\n                main,\r\n                vegfood,\r\n                nonvegfood\r\n            }),\r\n        })\r\n\r\n        const data = await response.json();\r\n        if(data.status=='ok'){\r\n            alert(\"Food Published\")\r\n            window.location.href='/menuupdate'\r\n        }\r\n\r\n    }\r\n    \r\n\r\n    useEffect(() => { //useEffect react hook to tell React that \r\n        //components need to do something on render\r\n        const token = localStorage.getItem('token');\r\n        if(!token) {\r\n            const user = jwt.decode(token) // for authentication\r\n            history.push('/login'); //if authentication fails load the login page\r\n        }\r\n      })\r\n\r\n    return (\r\n        <div>\r\n       <Header/>\r\n            <div className=\"box\">\r\n                    <h1>Add Menu</h1>\r\n  \r\n                    <form onSubmit={publishFood}>\r\n                    \r\n                    <select className=\"dropdown-text input-control2 rounded-pill\" id=\"dropdown\" style={{padding:\"12px\", margin:\"25px\"}} onChange={(e) => setFoodname(e.target.value)}>\r\n                        <option value=\"foodname\" disabled selected hidden>Meal</option>\r\n                        <option value=\"Breakfast\">Breakfast</option>\r\n                        <option value=\"Lunch\">Lunch</option>\r\n                        <option value=\"Snacks\">Snacks</option>\r\n                        <option value=\"Dinner\">Dinner</option>\r\n\t\t\t\t    </select><br/>\r\n\r\n                    <input className=\"input-control2 rounded-pill\" value={main} name=\"main course\" type=\"text\" \r\n                        onChange={(e)=>setMain(e.target.value)} placeholder=\"&#xf2e7;  Main Course\"></input><br/><br/>\r\n                    <input className=\"input-control2 rounded-pill\" value={vegfood}\r\n                        onChange={(e) => setVegfood(e.target.value)} placeholder='&#xf787;  Veg' name='vegfood'></input><br/><br/>\r\n                    <input className=\"input-control2 rounded-pill\" value={nonvegfood}\r\n                        onChange={(e) => setNonvegfood(e.target.value)} placeholder='&#xf7fb;  Non-veg' name='nonvegfood'></input><br/><br/>\r\n                    <button className=\"btn btn-control btn-dark rounded-pill\">Send</button>\r\n\r\n                </form>\r\n                <br/>\r\n            </div>   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MenuUpdate"],"mappings":"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"},"metadata":{},"sourceType":"module"}