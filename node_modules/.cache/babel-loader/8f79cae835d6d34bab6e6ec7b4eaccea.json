{"ast":null,"code":"import _asyncToGenerator from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import jwt from'jsonwebtoken';import{useHistory}from\"react-router-dom\";import Header from\"./Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Vendor=function Vendor(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),phone=_useState4[0],setPhone=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),fooditem=_useState6[0],setFooditem=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),payment=_useState8[0],setPayment=_useState8[1];var logout=function logout(){window.localStorage.clear();window.location.href='/login';};function addVendor(_x){return _addVendor.apply(this,arguments);}function _addVendor(){_addVendor=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('https://hms-nist.herokuapp.com/api/vendor',{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify({name:name,phone:phone,fooditem:fooditem,payment:payment})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.status=='ok'){alert('Vendor Added');history.push('/staffdashboard');}case 8:case\"end\":return _context.stop();}}},_callee);}));return _addVendor.apply(this,arguments);}useEffect(function(){//useEffect react hook to tell React that \n//components need to do something on render\nvar token=localStorage.getItem('token');if(!token){var user=jwt.decode(token);// for authentication\nhistory.push('/login');//if authentication fails load the login page\n}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Add Vendor Data\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(\"img\",{className:\"dashboard-img\",src:\"../images/vendor.png\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-col col-lg-6\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form1\",onSubmit:addVendor,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label1\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input1 rounded-pill\",required:true,value:name,onChange:function onChange(e){return setName(e.target.value);},type:\"text\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label1\",children:\"Phone Number:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input1 rounded-pill\",value:phone,onChange:function onChange(e){return setPhone(e.target.value);},type:\"tel\",minLength:\"10\",maxLength:\"10\",required:true}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label1\",children:\"Food Item:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input1 rounded-pill\",required:true,value:fooditem,onChange:function onChange(e){return setFooditem(e.target.value);},type:\"text\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label1\",children:\"Payment:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input1 rounded-pill\",required:true,value:payment,onChange:function onChange(e){return setPayment(e.target.value);},type:\"number\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-dark rounded-pill\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Add\"]})]})})]})})]});};export default Vendor;","map":{"version":3,"names":["React","useEffect","useState","jwt","useHistory","Header","Vendor","history","name","setName","phone","setPhone","fooditem","setFooditem","payment","setPayment","logout","window","localStorage","clear","location","href","addVendor","event","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","status","alert","push","token","getItem","user","decode","e","target","value"],"sources":["/Users/sherlock/Desktop/HMS copy/client/src/components/Vendor.js"],"sourcesContent":["import React,{useEffect,useState} from \"react\";\nimport jwt from 'jsonwebtoken';\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"./Header\";\n\nconst Vendor=()=>{\n    const history = useHistory();\n\n    const[name,setName]=useState('');\n    const[phone,setPhone]=useState('');\n    const[fooditem,setFooditem]=useState('');\n    const[payment,setPayment]=useState('');\n\n    const logout=()=>{\n        window.localStorage.clear();\n        window.location.href='/login'\n    }\n\n    async function addVendor(event){\n        event.preventDefault();\n\n        const response = await fetch('https://hms-nist.herokuapp.com/api/vendor',{\n            method: 'POST',\n            headers: {\n                'Content-type':'application/json'\n            },\n            body: JSON.stringify({\n                name,\n                phone,\n                fooditem,\n                payment,\n                \n            }),\n        })\n        const data=await response.json();\n        if(data.status=='ok'){\n            alert('Vendor Added')\n            history.push('/staffdashboard');\n        } \n    }\n\n    useEffect(() => { //useEffect react hook to tell React that \n        //components need to do something on render\n        const token = localStorage.getItem('token');\n        if(!token) {\n            const user = jwt.decode(token) // for authentication\n            history.push('/login'); //if authentication fails load the login page\n        }\n    })\n\n    return(\n        <div>\n        <Header/>\n            <h1>Add Vendor Data</h1>\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-lg-6\">\n                        <img className=\"dashboard-img\" src=\"../images/vendor.png\"></img>\n                    </div>\n                    <div className=\"btn-col col-lg-6\">\n                    <form className=\"form1\" onSubmit={addVendor}>\n                        <p>\n                        <label className=\"label1\">Name:</label>\n                        <input className=\"input1 rounded-pill\" required value={name} onChange={(e)=>setName(e.target.value)} type=\"text\"></input><br/>\n                        </p>\n\n                        <p>\n                        <label className=\"label1\">Phone Number:</label>\n                        <input className=\"input1 rounded-pill\" \n                                value={phone} \n                                onChange={(e)=>setPhone(e.target.value)} \n                                type=\"tel\"\n                                minLength=\"10\"\n                                maxLength=\"10\" \n                                required\n                                >\n                        </input><br/>\n                        </p>\n\n                        <p>\n                        <label className=\"label1\">Food Item:</label>\n                        <input className=\"input1 rounded-pill\" required value={fooditem} onChange={(e)=>setFooditem(e.target.value)} type=\"text\"></input><br/>\n                        </p>\n\n                        <p>\n                        <label className=\"label1\">Payment:</label>\n                        <input className=\"input1 rounded-pill\" required value={payment} onChange={(e)=>setPayment(e.target.value)} type=\"number\"></input><br/><br/>\n                        </p>\n\n                        <button className=\"btn btn-dark rounded-pill\"><i className=\"fas fa-plus\"></i> Add</button>\n                    </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n} \nexport default Vendor;"],"mappings":"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"},"metadata":{},"sourceType":"module"}