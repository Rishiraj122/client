{"ast":null,"code":"import _asyncToGenerator from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import Header from'./Header';import jwt from'jsonwebtoken';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StudentUpdate=function StudentUpdate(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),roll=_useState2[0],setRoll=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setAddress=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),gender=_useState8[0],setGender=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),phone=_useState10[0],setPhone=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),nemail=_useState12[0],setNemail=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),dob=_useState14[0],setDob=_useState14[1];function updateDetails(_x){return _updateDetails.apply(this,arguments);}function _updateDetails(){_updateDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('https://hms-nist.herokuapp.com/api/studentupdate',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({roll:roll,name:name,address:address,gender:gender,phone:phone,dob:dob,nemail:nemail})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.status=='ok'){alert(\"Student Details Has Been Updated\");window.location.href=\"admindashboard\";}case 8:case\"end\":return _context.stop();}}},_callee);}));return _updateDetails.apply(this,arguments);}useEffect(function(){//useEffect react hook to tell React that \n//components need to do something on render\nvar token=localStorage.getItem('token');if(!token){var user=jwt.decode(token);// for authentication\nalert(\"Error\");history.push('/admindashboard');//if authentication fails load the login page\n}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Update Student Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateDetails,children:[/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",type:\"number\",placeholder:\"#  Roll No\",required:true,value:roll,onChange:function onChange(e){return setRoll(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",type:\"text\",placeholder:\"\\uF007  Fullname\",required:true,value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{className:\"dropdown-text input-control2 rounded-pill\",id:\"dropdown\",onChange:function onChange(e){return setGender(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"gender\",disabled:true,selected:true,hidden:true,style:{padding:\"20%\"},children:\"\\uF224   Gender\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"others\",children:\"Others\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{value:address,onChange:function onChange(e){return setAddress(e.target.value);},type:\"text\",placeholder:\"\\uF015  Address\",class:\"input-control rounded-pill\",required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",type:\"tel\",minLength:\"10\",maxLength:\"10\",placeholder:\"\\uF095  Phone Number\",required:true,value:phone,onChange:function onChange(e){return setPhone(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",type:\"email\",placeholder:\"\\uF0E0  E-mail ID\",required:true,value:nemail,onChange:function onChange(e){return setNemail(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-control btn btn-dark rounded-pill\",children:\"Update Details\"})]})]})]});};export default StudentUpdate;","map":{"version":3,"names":["React","useState","useEffect","useHistory","Header","jwt","StudentUpdate","history","roll","setRoll","name","setName","address","setAddress","gender","setGender","phone","setPhone","nemail","setNemail","dob","setDob","updateDetails","event","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","status","alert","window","location","href","token","localStorage","getItem","user","decode","push","e","target","value","padding"],"sources":["/Users/sherlock/Desktop/HMS copy/client/src/components/StudentUpdate.js"],"sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport jwt from 'jsonwebtoken'\n\nconst StudentUpdate=()=>{\n\nconst history=useHistory();\n\nconst[roll,setRoll]=useState('');\nconst[name,setName]=useState('');\nconst[address,setAddress]=useState('');\nconst[gender,setGender]=useState('');\nconst[phone,setPhone]=useState('');\nconst[nemail,setNemail]=useState('');\nconst[dob, setDob] = useState('');\n\n\nasync function updateDetails(event){\n    \n    event.preventDefault();\n\n    const response = await fetch('https://hms-nist.herokuapp.com/api/studentupdate',{\n        method: 'POST',\n        headers:{\n            'Content-Type':'application/json',\n        },\n        body: JSON.stringify({\n            roll,\n            name,\n            address,\n            gender,\n            phone,\n            dob,\n            nemail\n        })\n    })\n\n    const data = await response.json();\n    if(data.status=='ok'){\n        alert(\"Student Details Has Been Updated\");\n        window.location.href=\"admindashboard\";\n    }\n\n}\n\nuseEffect(() => { //useEffect react hook to tell React that \n    //components need to do something on render\n    const token = localStorage.getItem('token');\n    if(!token) {\n        const user = jwt.decode(token) // for authentication\n        alert(\"Error\")\n        history.push('/admindashboard')//if authentication fails load the login page\n    }\n})\n\nreturn(\n    \n    <div>\n        <Header/>\n        <div className=\"box\">\n        <h1>Update Student Details</h1>\n        <form onSubmit={updateDetails}>\n            <input className=\"input-control2 rounded-pill\" type=\"number\" placeholder=\"&#x23;  Roll No\" required value={roll} onChange={(e)=>setRoll(e.target.value)}></input><br/>\n            \n            <input className=\"input-control2 rounded-pill\" type=\"text\" placeholder=\"&#xf007;  Fullname\" required value={name} onChange={(e)=>setName(e.target.value)}></input><br/>\n            \n            <select className=\"dropdown-text input-control2 rounded-pill\" id=\"dropdown\" onChange={(e) => setGender(e.target.value)}>\n                <option value=\"gender\" disabled selected hidden style={{padding:\"20%\"}}>&#xf224;   Gender</option>\n                <option value=\"male\">Male</option>\n                <option value=\"female\">Female</option>\n                <option value=\"others\">Others</option>\n            </select>\n            <br/>\n            \n            {/* <input className=\"input-control2 dropdown-text rounded-pill\" type=\"date\" placeholder=\"&#xf133;   Date of Birth\" \n                value={dob}\n\t\t\t\tonChange={(e) => setDob(e.target.value)}\n\t\t\t\ttype=\"text\"\n\t\t\t\tmax=\"2004-06-01\"\n\t\t\t\tplaceholder=\"&#xf133;   Date of Birth\"\n\t\t\t\tonFocus={(e)=>(e.target.type=\"date\")}\n\t\t\t\tonBlur={(e)=>(e.target.type=\"date\")}\n\t\t\t\tclass=\"dropdown-text input-control rounded-pill\"\n\t\t\t\trequired\n            /> */}\n            <br/>\n            \n            <input\n                value={address}\n                onChange={(e) => setAddress(e.target.value)}\n                type=\"text\"\n                placeholder=\"&#xf015;  Address\"\n                class=\"input-control rounded-pill\"\n                required\n            />\n             <br/>\n                \n            <input className=\"input-control2 rounded-pill\" type=\"tel\" minLength=\"10\" maxLength=\"10\" placeholder=\"&#xf095;  Phone Number\" required value={phone} onChange={(e)=>setPhone(e.target.value)}></input><br/>\n            \n            <input className=\"input-control2 rounded-pill\" type=\"email\" placeholder=\"&#xf0e0;  E-mail ID\" required value={nemail} onChange={(e)=>setNemail(e.target.value)}></input><br/><br/>\n            \n            <button className=\"btn-control btn btn-dark rounded-pill\">Update Details</button>\n        </form>\n        </div>\n\n    </div>\n)\n}\nexport default StudentUpdate;"],"mappings":"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"},"metadata":{},"sourceType":"module"}