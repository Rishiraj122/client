{"ast":null,"code":"var _jsxFileName = \"/Users/sherlock/Desktop/HMS/client/src/components/MenuUpdate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport jwt from 'jsonwebtoken';\nimport { useHistory } from 'react-router-dom';\nimport Header from '../components/Header.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MenuUpdate = () => {\n  _s();\n\n  const history = useHistory(); //history instance a react hook\n\n  const [foodname, setFoodname] = useState('');\n  const [main, setMain] = useState('');\n  const [vegfood, setVegfood] = useState('');\n  const [nonvegfood, setNonvegfood] = useState('');\n\n  const logout = () => {\n    window.localStorage.clear(); //to clear the localstorage of the user, so when \n    //a user logs out it's login local storage is cleared\n\n    window.location.href = '/login';\n  };\n\n  const vendor = () => {\n    window.location.href = '/vendordisplay';\n  };\n\n  const roomClean = () => {\n    window.location.href = '/roomclean';\n  };\n\n  const messBill = () => {\n    window.location.href = '/messbill';\n  };\n\n  async function publishFood(event) {\n    event.preventDefault();\n    const response = await fetch('http://localhost:1337/api/foodtoday', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        foodname,\n        main,\n        vegfood,\n        nonvegfood\n      })\n    });\n    const data = await response.json();\n\n    if (data.status == 'ok') {\n      alert(\"Food Published\");\n      window.location.href = '/menuupdate';\n    }\n  }\n\n  useEffect(() => {\n    //useEffect react hook to tell React that \n    //components need to do something on render\n    const token = localStorage.getItem('token');\n\n    if (!token) {\n      const user = jwt.decode(token); // for authentication\n\n      history.push('/login'); //if authentication fails load the login page\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Add Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: publishFood,\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"dropdown-text input-control2 rounded-pill\",\n          id: \"dropdown\",\n          style: {\n            padding: \"12px\",\n            margin: \"25px\"\n          },\n          onChange: e => setFoodname(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"foodname\",\n            disabled: true,\n            selected: true,\n            hidden: true,\n            children: \"Meal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Breakfast\",\n            children: \"Breakfast\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Lunch\",\n            children: \"Lunch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Snacks\",\n            children: \"Snacks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Dinner\",\n            children: \"Dinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-control2 rounded-pill\",\n          value: main,\n          name: \"main course\",\n          type: \"text\",\n          onChange: e => setMain(e.target.value),\n          placeholder: \"\\uF2E7  Main Course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 109\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 114\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-control2 rounded-pill\",\n          value: vegfood,\n          onChange: e => setVegfood(e.target.value),\n          placeholder: \"\\uF787  Veg\",\n          name: \"vegfood\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 121\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 126\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-control2 rounded-pill\",\n          value: nonvegfood,\n          onChange: e => setNonvegfood(e.target.value),\n          placeholder: \"\\uF7FB  Non-veg\",\n          name: \"nonvegfood\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 131\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 136\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-control btn-dark rounded-pill\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MenuUpdate, \"wD3Pm5N5j1MjpGpIUl25gTAfQ3I=\", false, function () {\n  return [useHistory];\n});\n\n_c = MenuUpdate;\nexport default MenuUpdate;\n\nvar _c;\n\n$RefreshReg$(_c, \"MenuUpdate\");","map":{"version":3,"names":["React","useEffect","useState","jwt","useHistory","Header","MenuUpdate","history","foodname","setFoodname","main","setMain","vegfood","setVegfood","nonvegfood","setNonvegfood","logout","window","localStorage","clear","location","href","vendor","roomClean","messBill","publishFood","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","status","alert","token","getItem","user","decode","push","padding","margin","e","target","value"],"sources":["/Users/sherlock/Desktop/HMS/client/src/components/MenuUpdate.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport jwt from 'jsonwebtoken'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Header from '../components/Header.js'\r\n\r\nconst MenuUpdate = () =>{\r\n    const history = useHistory();//history instance a react hook\r\n\r\n    const [foodname,setFoodname]=useState('');\r\n    const [main,setMain]=useState('');\r\n    const [vegfood,setVegfood]=useState('');\r\n    const [nonvegfood,setNonvegfood]=useState('');\r\n\r\n    const logout=()=>{\r\n        window.localStorage.clear();//to clear the localstorage of the user, so when \r\n                                    //a user logs out it's login local storage is cleared\r\n        window.location.href='/login'\r\n    }\r\n\r\n    const vendor=()=>{\r\n        window.location.href='/vendordisplay'\r\n    }\r\n\r\n    const roomClean=()=>{\r\n        window.location.href='/roomclean'\r\n    }\r\n\r\n    const messBill=()=>{\r\n        window.location.href='/messbill'\r\n    }\r\n\r\n    async function publishFood(event){\r\n        event.preventDefault();\r\n\r\n        const response = await fetch('http://localhost:1337/api/foodtoday',{\r\n            method: 'POST',\r\n            headers:{\r\n                'Content-type':'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                foodname,\r\n                main,\r\n                vegfood,\r\n                nonvegfood\r\n            }),\r\n        })\r\n\r\n        const data = await response.json();\r\n        if(data.status=='ok'){\r\n            alert(\"Food Published\")\r\n            window.location.href='/menuupdate'\r\n        }\r\n\r\n    }\r\n    \r\n\r\n    useEffect(() => { //useEffect react hook to tell React that \r\n        //components need to do something on render\r\n        const token = localStorage.getItem('token');\r\n        if(!token) {\r\n            const user = jwt.decode(token) // for authentication\r\n            history.push('/login'); //if authentication fails load the login page\r\n        }\r\n      })\r\n\r\n    return (\r\n        <div>\r\n       <Header/>\r\n            <div className=\"box\">\r\n                    <h1>Add Menu</h1>\r\n  \r\n                    <form onSubmit={publishFood}>\r\n                    \r\n                    <select className=\"dropdown-text input-control2 rounded-pill\" id=\"dropdown\" style={{padding:\"12px\", margin:\"25px\"}} onChange={(e) => setFoodname(e.target.value)}>\r\n                        <option value=\"foodname\" disabled selected hidden>Meal</option>\r\n                        <option value=\"Breakfast\">Breakfast</option>\r\n                        <option value=\"Lunch\">Lunch</option>\r\n                        <option value=\"Snacks\">Snacks</option>\r\n                        <option value=\"Dinner\">Dinner</option>\r\n\t\t\t\t    </select><br/>\r\n\r\n                    <input className=\"input-control2 rounded-pill\" value={main} name=\"main course\" type=\"text\" \r\n                        onChange={(e)=>setMain(e.target.value)} placeholder=\"&#xf2e7;  Main Course\"></input><br/><br/>\r\n                    <input className=\"input-control2 rounded-pill\" value={vegfood}\r\n                        onChange={(e) => setVegfood(e.target.value)} placeholder='&#xf787;  Veg' name='vegfood'></input><br/><br/>\r\n                    <input className=\"input-control2 rounded-pill\" value={nonvegfood}\r\n                        onChange={(e) => setNonvegfood(e.target.value)} placeholder='&#xf7fb;  Non-veg' name='nonvegfood'></input><br/><br/>\r\n                    <button className=\"btn btn-control btn-dark rounded-pill\">Send</button>\r\n\r\n                </form>\r\n                <br/>\r\n            </div>   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MenuUpdate"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;;;AAEA,MAAMC,UAAU,GAAG,MAAK;EAAA;;EACpB,MAAMC,OAAO,GAAGH,UAAU,EAA1B,CADoB,CACS;;EAE7B,MAAM,CAACI,QAAD,EAAUC,WAAV,IAAuBP,QAAQ,CAAC,EAAD,CAArC;EACA,MAAM,CAACQ,IAAD,EAAMC,OAAN,IAAeT,QAAQ,CAAC,EAAD,CAA7B;EACA,MAAM,CAACU,OAAD,EAASC,UAAT,IAAqBX,QAAQ,CAAC,EAAD,CAAnC;EACA,MAAM,CAACY,UAAD,EAAYC,aAAZ,IAA2Bb,QAAQ,CAAC,EAAD,CAAzC;;EAEA,MAAMc,MAAM,GAAC,MAAI;IACbC,MAAM,CAACC,YAAP,CAAoBC,KAApB,GADa,CACe;IACA;;IAC5BF,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAqB,QAArB;EACH,CAJD;;EAMA,MAAMC,MAAM,GAAC,MAAI;IACbL,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAqB,gBAArB;EACH,CAFD;;EAIA,MAAME,SAAS,GAAC,MAAI;IAChBN,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAqB,YAArB;EACH,CAFD;;EAIA,MAAMG,QAAQ,GAAC,MAAI;IACfP,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAqB,WAArB;EACH,CAFD;;EAIA,eAAeI,WAAf,CAA2BC,KAA3B,EAAiC;IAC7BA,KAAK,CAACC,cAAN;IAEA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,qCAAD,EAAuC;MAC/DC,MAAM,EAAE,MADuD;MAE/DC,OAAO,EAAC;QACJ,gBAAe;MADX,CAFuD;MAK/DC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACjB1B,QADiB;QAEjBE,IAFiB;QAGjBE,OAHiB;QAIjBE;MAJiB,CAAf;IALyD,CAAvC,CAA5B;IAaA,MAAMqB,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAnB;;IACA,IAAGD,IAAI,CAACE,MAAL,IAAa,IAAhB,EAAqB;MACjBC,KAAK,CAAC,gBAAD,CAAL;MACArB,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAqB,aAArB;IACH;EAEJ;;EAGDpB,SAAS,CAAC,MAAM;IAAE;IACd;IACA,MAAMsC,KAAK,GAAGrB,YAAY,CAACsB,OAAb,CAAqB,OAArB,CAAd;;IACA,IAAG,CAACD,KAAJ,EAAW;MACP,MAAME,IAAI,GAAGtC,GAAG,CAACuC,MAAJ,CAAWH,KAAX,CAAb,CADO,CACwB;;MAC/BhC,OAAO,CAACoC,IAAR,CAAa,QAAb,EAFO,CAEiB;IAC3B;EACF,CAPM,CAAT;EASA,oBACI;IAAA,wBACD,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADC,eAEI;MAAK,SAAS,EAAC,KAAf;MAAA,wBACQ;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADR,eAGQ;QAAM,QAAQ,EAAElB,WAAhB;QAAA,wBAEA;UAAQ,SAAS,EAAC,2CAAlB;UAA8D,EAAE,EAAC,UAAjE;UAA4E,KAAK,EAAE;YAACmB,OAAO,EAAC,MAAT;YAAiBC,MAAM,EAAC;UAAxB,CAAnF;UAAoH,QAAQ,EAAGC,CAAD,IAAOrC,WAAW,CAACqC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhJ;UAAA,wBACI;YAAQ,KAAK,EAAC,UAAd;YAAyB,QAAQ,MAAjC;YAAkC,QAAQ,MAA1C;YAA2C,MAAM,MAAjD;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAQ,KAAK,EAAC,WAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFJ,eAGI;YAAQ,KAAK,EAAC,OAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAHJ,eAII;YAAQ,KAAK,EAAC,QAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAJJ,eAKI;YAAQ,KAAK,EAAC,QAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QALJ;QAAA;UAAA;UAAA;UAAA;QAAA,QAFA,eAQH;UAAA;UAAA;UAAA;QAAA,QARG,eAUA;UAAO,SAAS,EAAC,6BAAjB;UAA+C,KAAK,EAAEtC,IAAtD;UAA4D,IAAI,EAAC,aAAjE;UAA+E,IAAI,EAAC,MAApF;UACI,QAAQ,EAAGoC,CAAD,IAAKnC,OAAO,CAACmC,CAAC,CAACC,MAAF,CAASC,KAAV,CAD1B;UAC4C,WAAW,EAAC;QADxD;UAAA;UAAA;UAAA;QAAA,QAVA,eAWwF;UAAA;UAAA;UAAA;QAAA,QAXxF,eAW6F;UAAA;UAAA;UAAA;QAAA,QAX7F,eAYA;UAAO,SAAS,EAAC,6BAAjB;UAA+C,KAAK,EAAEpC,OAAtD;UACI,QAAQ,EAAGkC,CAAD,IAAOjC,UAAU,CAACiC,CAAC,CAACC,MAAF,CAASC,KAAV,CAD/B;UACiD,WAAW,EAAC,aAD7D;UAC6E,IAAI,EAAC;QADlF;UAAA;UAAA;UAAA;QAAA,QAZA,eAaoG;UAAA;UAAA;UAAA;QAAA,QAbpG,eAayG;UAAA;UAAA;UAAA;QAAA,QAbzG,eAcA;UAAO,SAAS,EAAC,6BAAjB;UAA+C,KAAK,EAAElC,UAAtD;UACI,QAAQ,EAAGgC,CAAD,IAAO/B,aAAa,CAAC+B,CAAC,CAACC,MAAF,CAASC,KAAV,CADlC;UACoD,WAAW,EAAC,iBADhE;UACoF,IAAI,EAAC;QADzF;UAAA;UAAA;UAAA;QAAA,QAdA,eAe8G;UAAA;UAAA;UAAA;QAAA,QAf9G,eAemH;UAAA;UAAA;UAAA;QAAA,QAfnH,eAgBA;UAAQ,SAAS,EAAC,uCAAlB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAhBA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHR,eAsBI;QAAA;QAAA;QAAA;MAAA,QAtBJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA6BH,CAzFD;;GAAM1C,U;UACcF,U;;;KADdE,U;AA2FN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}