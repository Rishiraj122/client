{"ast":null,"code":"var _jsxFileName = \"/Users/sherlock/Desktop/HMS copy/client/src/components/RoomClean.js\";\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from './Header';\nimport axios from 'axios';\nimport Sidebar from 'react-sidebar';\nimport jwt from 'jsonwebtoken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst item = [];\nexport default class Fetch extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loading: true,\n      person: null\n    };\n  }\n\n  async componentDidMount() {\n    //For auth access\n    const token = localStorage.getItem('token');\n\n    if (!token) {\n      const user = jwt.decode(token); // for authentication\n\n      window.location.href = \"/login\"; // history.push('/login'); //if authentication fails load the login page\n    } //\n\n\n    const url = \"http://localhost:1337/api/clean\";\n    const response = await fetch(url);\n    const data = await response.json();\n    let i = 0;\n\n    while (i <= data.user.length) {\n      this.setState({\n        person: data,\n        loading: false\n      });\n\n      if (true) {\n        item.push(data.user[i]);\n      }\n\n      i++;\n    } // for(let i=0;i<data.user.length;i=i+1){\n    //     this.setState({person: data, loading: false})\n    //     item.push(data.user[i]);\n    //     console.log(data.user[0]);\n    //     // if(i==data.user.length-1){\n    //     //     alert(yay)\n    //     //     item.push(data.user[i+1]);\n    //     // }\n    // }\n\n  }\n\n  async delete(value) {\n    const room = {\n      room: value\n    };\n    const response = await axios.post('http://localhost:1337/api/deleteclean', room);\n    window.location.reload(false);\n  }\n\n  goBack() {\n    window.location.href = \"/staffdashboard\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Room Clean Requests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: item.map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"2%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Room:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), \" \", i.room, \", \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Message:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 62\n            }, this), i.clean]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-light rounded-pill\",\n            onClick: () => this.delete(i.room),\n            children: \"Room Cleaned\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-control btn btn-dark rounded-pill\",\n        onClick: () => this.goBack(),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 103\n        }, this), \"  Go Back\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","useHistory","Header","axios","Sidebar","jwt","item","Fetch","Component","state","loading","person","componentDidMount","token","localStorage","getItem","user","decode","window","location","href","url","response","fetch","data","json","i","length","setState","push","delete","value","room","post","reload","goBack","render","map","marginBottom","clean"],"sources":["/Users/sherlock/Desktop/HMS copy/client/src/components/RoomClean.js"],"sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from './Header'\nimport axios from 'axios';\nimport Sidebar from 'react-sidebar';\nimport jwt from 'jsonwebtoken'\n\nconst item=[];\n\nexport default class Fetch extends React.Component{\n\n    state={\n        loading: true,\n        person: null,\n    }\n\n    async componentDidMount(){\n\n        //For auth access\n        const token = localStorage.getItem('token');\n        if(!token) {\n            const user = jwt.decode(token) // for authentication\n            window.location.href=\"/login\"\n            // history.push('/login'); //if authentication fails load the login page\n        }\n        //\n\n        const url=\"http://localhost:1337/api/clean\";\n        const response = await fetch(url);\n        const data = await response.json();\n        let i = 0;\n\n        while(i<=data.user.length){\n            this.setState({person: data, loading: false})\n            if(true){\n                item.push(data.user[i]);\n            }           \n            i++;\n        }\n\n        // for(let i=0;i<data.user.length;i=i+1){\n        //     this.setState({person: data, loading: false})\n            \n        //     item.push(data.user[i]);\n        //     console.log(data.user[0]);\n        //     // if(i==data.user.length-1){\n        //     //     alert(yay)\n        //     //     item.push(data.user[i+1]);\n        //     // }\n        // }\n    }\n\n    async delete(value){\n        const room={room: value}\n        const response = await axios.post('http://localhost:1337/api/deleteclean',room);\n        window.location.reload(false);\n    }\n\n    goBack(){\n        window.location.href=\"/staffdashboard\"\n    }\n\n    render(){\n        return(\n            <div>\n                <Header/>\n                <h1>Room Clean Requests</h1>\n                <div>\n                    {item.map(i=>\n                    <div style={{marginBottom:\"2%\"}}>\n                         <p><strong>Room:</strong> {i.room}, <strong>Message:</strong>{i.clean}</p> \n                         <button className=\"btn btn-light rounded-pill\" onClick={()=>this.delete(i.room)}>Room Cleaned</button>\n                    </div>   \n                    )}\n                </div>\n                <button className=\"btn-control btn btn-dark rounded-pill\" onClick={()=>this.goBack()}><i className=\"fas fa-arrow-left\"></i>  Go Back</button>\n            </div>\n        )\n    }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}