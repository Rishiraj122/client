{"ast":null,"code":"import _asyncToGenerator from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/regenerator/index.js\";import{useState}from'react';import Header from'../components/Header.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var register=function register(){window.location.href='/studentregistration';};function loginUser(_x){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('https://hms-nist.herokuapp.com/api/studentlogin',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.user){localStorage.setItem('token',data.user);alert('Login successful');window.location.href='/studentdashboard';}else{alert('Incorrect Password or Email');window.location.href='/studentlogin';}case 8:case\"end\":return _context.stop();}}},_callee);}));return _loginUser.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Student Login\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Welcome back! Log in to access your profile.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:loginUser,children:[/*#__PURE__*/_jsx(\"input\",{value:email,onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\",required:true,placeholder:\"\\uF0E0  E-mail\",class:\"input-control rounded-pill\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{value:password,onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\",required:true,placeholder:\"\\uF023  Password\",class:\"input-control rounded-pill\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{className:\"forgot-password\",href:\"/forgotpassword\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Forgot Password?\"})}),/*#__PURE__*/_jsx(\"input\",{class:\"btn btn-dark input-control rounded-pill\",type:\"submit\",value:\"Login\"})]}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-control btn-light rounded-pill\",onClick:register,children:\"Register\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]});}export default App;","map":{"version":3,"names":["useState","Header","App","email","setEmail","password","setPassword","register","window","location","href","loginUser","event","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","user","localStorage","setItem","alert","e","target","value"],"sources":["/Users/sherlock/Desktop/HMS copy/client/src/pages/StudentLogin.js"],"sourcesContent":["import { useState } from 'react'\nimport Header from '../components/Header.js'\n\nfunction App() {\n\tconst [email, setEmail] = useState('')\n\tconst [password, setPassword] = useState('')\n\n    const register=()=>{\n        window.location.href='/studentregistration'\n    }\n\n\tasync function loginUser(event) {\n\t\tevent.preventDefault()\n\n\t\tconst response = await fetch('https://hms-nist.herokuapp.com/api/studentlogin', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t}),\n\t\t})\n\n\t\tconst data = await response.json()\n\t\tif (data.user) {\n\t\t\tlocalStorage.setItem('token', data.user)\n\t\t\talert('Login successful')\n\t\t\twindow.location.href = '/studentdashboard'\n\t\t} else{\n\t\t\talert('Incorrect Password or Email')\n\t\t\twindow.location.href = '/studentlogin'\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t<Header />\n\t\t<div className=\"box\">\n\t\t\t<h1>Student Login</h1>\n\t\t\t<p>Welcome back! Log in to access your profile.</p>\n\t\t\t<form onSubmit={loginUser}>\n\t\t\t\t<input\n\t\t\t\t\tvalue={email}\n\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\trequired\n\t\t\t\t\tplaceholder=\"&#xf0e0;  E-mail\"\n\t\t\t\t\tclass=\"input-control rounded-pill\"\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<input\n\t\t\t\t\tvalue={password}\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\trequired\n\t\t\t\t\tplaceholder=\"&#xf023;  Password\"\n\t\t\t\t\tclass=\"input-control rounded-pill\"\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<a className=\"forgot-password\" href=\"/forgotpassword\"><p>Forgot Password?</p></a>\n\t\t\t\t<input class=\"btn btn-dark input-control rounded-pill\" type=\"submit\" value=\"Login\" />\n\t\t\t</form>\n            <button class=\"btn btn-control btn-light rounded-pill\" onClick={register}>Register</button><br/><br/>\n\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default App\n"],"mappings":"0XAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACd,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eACA,eAAgCJ,QAAQ,CAAC,EAAD,CAAxC,yCAAOK,QAAP,eAAiBC,WAAjB,eAEG,GAAMC,CAAAA,QAAQ,CAAC,QAATA,CAAAA,QAAS,EAAI,CACfC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,sBAArB,CACH,CAFD,CAJW,QAQCC,CAAAA,SARD,uIAQd,iBAAyBC,KAAzB,oIACCA,KAAK,CAACC,cAAN,GADD,sBAGwBC,CAAAA,KAAK,CAAC,iDAAD,CAAoD,CAC/EC,MAAM,CAAE,MADuE,CAE/EC,OAAO,CAAE,CACR,eAAgB,kBADR,CAFsE,CAK/EC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACpBhB,KAAK,CAALA,KADoB,CAEpBE,QAAQ,CAARA,QAFoB,CAAf,CALyE,CAApD,CAH7B,QAGOe,QAHP,qCAcoBA,CAAAA,QAAQ,CAACC,IAAT,EAdpB,QAcOC,IAdP,eAeC,GAAIA,IAAI,CAACC,IAAT,CAAe,CACdC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BH,IAAI,CAACC,IAAnC,EACAG,KAAK,CAAC,kBAAD,CAAL,CACAlB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,mBAAvB,CACA,CAJD,IAIM,CACLgB,KAAK,CAAC,6BAAD,CAAL,CACAlB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,eAAvB,CACA,CAtBF,sDARc,4CAiCd,mBACC,oCACA,KAAC,MAAD,IADA,cAEA,aAAK,SAAS,CAAC,KAAf,wBACC,qCADD,cAEC,mEAFD,cAGC,cAAM,QAAQ,CAAEC,SAAhB,wBACC,cACC,KAAK,CAAER,KADR,CAEC,QAAQ,CAAE,kBAACwB,CAAD,QAAOvB,CAAAA,QAAQ,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAFX,CAGC,IAAI,CAAC,OAHN,CAIC,QAAQ,KAJT,CAKC,WAAW,CAAC,gBALb,CAMC,KAAK,CAAC,4BANP,EADD,cASC,aATD,cAUC,cACC,KAAK,CAAExB,QADR,CAEC,QAAQ,CAAE,kBAACsB,CAAD,QAAOrB,CAAAA,WAAW,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAFX,CAGC,IAAI,CAAC,UAHN,CAIC,QAAQ,KAJT,CAKC,WAAW,CAAC,kBALb,CAMC,KAAK,CAAC,4BANP,EAVD,cAkBC,aAlBD,cAmBC,UAAG,SAAS,CAAC,iBAAb,CAA+B,IAAI,CAAC,iBAApC,uBAAsD,uCAAtD,EAnBD,cAoBC,cAAO,KAAK,CAAC,yCAAb,CAAuD,IAAI,CAAC,QAA5D,CAAqE,KAAK,CAAC,OAA3E,EApBD,GAHD,cAyBU,eAAQ,KAAK,CAAC,wCAAd,CAAuD,OAAO,CAAEtB,QAAhE,sBAzBV,cAyBqG,aAzBrG,cAyB0G,aAzB1G,GAFA,GADD,CAgCA,CAED,cAAeL,CAAAA,GAAf"},"metadata":{},"sourceType":"module"}