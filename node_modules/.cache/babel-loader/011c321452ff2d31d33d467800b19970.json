{"ast":null,"code":"import _asyncToGenerator from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sherlock/Desktop/HMS copy/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import Header from'./Header';import jwt from'jsonwebtoken';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HostelBill=function HostelBill(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),hostelbill=_useState2[0],setHostelbill=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),commonbill=_useState4[0],setCommonbill=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),roll=_useState6[0],setRoll=_useState6[1];function addHostel(_x){return _addHostel.apply(this,arguments);}//This is The New Thing Made\nfunction _addHostel(){_addHostel=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('https://hms-nist.herokuapp.com/api/hostelbill',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({hostelbill:hostelbill,roll:roll})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.status=='ok'){alert(\"Bill Added\");window.location.href=\"hostelbill\";}case 8:case\"end\":return _context.stop();}}},_callee);}));return _addHostel.apply(this,arguments);}function addCommonBill(_x2){return _addCommonBill.apply(this,arguments);}function _addCommonBill(){_addCommonBill=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return fetch('https://hms-nist.herokuapp.com/api/billforall',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({commonbill:commonbill})});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;if(data.status=='ok'){alert(\"Bill Added\");window.location.href=\"/wardendashboard\";}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _addCommonBill.apply(this,arguments);}var goBack=function goBack(){window.location.href=\"/wardendashboard\";};useEffect(function(){//useEffect react hook to tell React that \n//components need to do something on render\nvar token=localStorage.getItem('token');if(!token){var user=jwt.decode(token);// for authentication\nhistory.push('/login');//if authentication fails load the login page\n}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Hostel Bill\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addHostel,children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-control2\",style:{width:\"17rem\"},children:\"Student Roll Number:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",style:{width:\"20rem\"},type:\"number\",placeholder:\"Enter Roll Number\",required:true,value:roll,onChange:function onChange(e){return setRoll(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"input-control2\",style:{width:\"20rem\"},children:\"Electricity & Maintenance Charges:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",style:{width:\"15rem\"},type:\"number\",placeholder:\"Enter Amount\",required:true,value:hostelbill,onChange:function onChange(e){return setHostelbill(e.target.value);}}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-control btn-dark rounded-pill\",style:{width:\"8rem\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\"  Add\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addCommonBill,children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-control2\",style:{width:\"20rem\"},children:\"Common Charges:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-control2 rounded-pill\",style:{width:\"15rem\"},type:\"number\",placeholder:\"Enter Amount\",required:true,value:commonbill,onChange:function onChange(e){return setCommonbill(e.target.value);}}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-control btn btn-dark rounded-pill\",style:{width:\"8rem\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\"  Add\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-control btn btn-light rounded-pill\",style:{width:\"10rem\"},onClick:goBack,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\"  Go Back\"]})]})]});};export default HostelBill;","map":{"version":3,"names":["React","useEffect","useState","useHistory","Header","jwt","HostelBill","history","hostelbill","setHostelbill","commonbill","setCommonbill","roll","setRoll","addHostel","event","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","status","alert","window","location","href","addCommonBill","goBack","token","localStorage","getItem","user","decode","push","width","e","target","value"],"sources":["/Users/sherlock/Desktop/HMS copy/client/src/components/HostelBill.js"],"sourcesContent":["import React,{useEffect, useState} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from './Header'\nimport jwt from 'jsonwebtoken'\n\nconst HostelBill=()=>{\n    const history = useHistory()\n\n    const [hostelbill,setHostelbill]=useState('');\n    const [commonbill,setCommonbill]=useState('');\n    const [roll,setRoll]=useState('');\n\n    async function addHostel(event){\n        event.preventDefault();\n\n        const response = await fetch('https://hms-nist.herokuapp.com/api/hostelbill',{\n            method: 'POST',\n            headers:{\n                'Content-Type':'application/json',\n            },\n            body: JSON.stringify({\n                hostelbill,\n                roll\n            })\n        })\n\n        const data = await response.json()\n\n        if(data.status=='ok'){\n            alert(\"Bill Added\");\n            window.location.href=\"hostelbill\"\n        }\n\n    }\n//This is The New Thing Made\n    async function addCommonBill(event){\n        event.preventDefault();\n\n        const response = await fetch('https://hms-nist.herokuapp.com/api/billforall',{\n            method: 'POST',\n            headers:{\n                'Content-Type':'application/json',\n            },\n            body: JSON.stringify({\n                commonbill,\n            })\n        })\n\n        const data = await response.json()\n\n        if(data.status=='ok'){\n            alert(\"Bill Added\");\n            window.location.href=\"/wardendashboard\"\n        }\n\n    }\n\n    const goBack=()=>{\n        window.location.href=\"/wardendashboard\"\n    }\n\n    useEffect(() => { //useEffect react hook to tell React that \n        //components need to do something on render\n        const token = localStorage.getItem('token');\n        if(!token) {\n            const user = jwt.decode(token) // for authentication\n            history.push('/login'); //if authentication fails load the login page\n        }\n    })\n\n    return(\n        <div>\n            <Header/>\n            <div className=\"box\">\n            <h1>Hostel Bill</h1>\n            <form onSubmit={addHostel}>\n                <label className=\"input-control2\" style={{width:\"17rem\"}}>Student Roll Number:</label>\n                <input className=\"input-control2 rounded-pill\" style={{width:\"20rem\"}} type=\"number\" placeholder=\"Enter Roll Number\" required value={roll} onChange={(e)=>setRoll(e.target.value)}></input><br/><br/>\n                \n                <label className=\"input-control2\" style={{width:\"20rem\"}}>Electricity & Maintenance Charges:</label>\n                <input className=\"input-control2 rounded-pill\" style={{width:\"15rem\"}} type=\"number\" placeholder=\"Enter Amount\" required value={hostelbill} onChange={(e)=>setHostelbill(e.target.value)}></input>\n                <button className=\"btn btn-control btn-dark rounded-pill\" style={{width:\"8rem\"}}><i className=\"fas fa-plus\"></i>  Add</button><br/><br/>\n            </form>\n\n            <form onSubmit={addCommonBill}>\n                <label className=\"input-control2\" style={{width:\"20rem\"}}>Common Charges:</label>\n                <input className=\"input-control2 rounded-pill\" style={{width:\"15rem\"}} type=\"number\" placeholder=\"Enter Amount\" required value={commonbill} onChange={(e)=>setCommonbill(e.target.value)}></input>\n                <button className=\"btn-control btn btn-dark rounded-pill\" style={{width:\"8rem\"}}><i className=\"fas fa-plus\"></i>  Add</button><br/><br/>\n            </form>\n\n            <button className=\"btn-control btn btn-light rounded-pill\" style={{width:\"10rem\"}} onClick={goBack}><i className=\"fas fa-arrow-left\"></i>  Go Back</button>\n        </div>\n        </div>\n    )\n}\n\nexport default HostelBill;"],"mappings":"0XAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAyBC,QAAzB,KAAwC,OAAxC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAC,QAAXA,CAAAA,UAAW,EAAI,CACjB,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CAEA,cAAiCD,QAAQ,CAAC,EAAD,CAAzC,wCAAOM,UAAP,eAAkBC,aAAlB,eACA,eAAiCP,QAAQ,CAAC,EAAD,CAAzC,yCAAOQ,UAAP,eAAkBC,aAAlB,eACA,eAAqBT,QAAQ,CAAC,EAAD,CAA7B,yCAAOU,IAAP,eAAYC,OAAZ,eALiB,QAOFC,CAAAA,SAPE,8CA6BrB;AA7BqB,yFAOjB,iBAAyBC,KAAzB,oIACIA,KAAK,CAACC,cAAN,GADJ,sBAG2BC,CAAAA,KAAK,CAAC,+CAAD,CAAiD,CACzEC,MAAM,CAAE,MADiE,CAEzEC,OAAO,CAAC,CACJ,eAAe,kBADX,CAFiE,CAKzEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBd,UAAU,CAAVA,UADiB,CAEjBI,IAAI,CAAJA,IAFiB,CAAf,CALmE,CAAjD,CAHhC,QAGUW,QAHV,qCAcuBA,CAAAA,QAAQ,CAACC,IAAT,EAdvB,QAcUC,IAdV,eAgBI,GAAGA,IAAI,CAACC,MAAL,EAAa,IAAhB,CAAqB,CACjBC,KAAK,CAAC,YAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,YAArB,CACH,CAnBL,sDAPiB,oDA8BFC,CAAAA,aA9BE,oJA8BjB,kBAA6BhB,KAA7B,wIACIA,KAAK,CAACC,cAAN,GADJ,uBAG2BC,CAAAA,KAAK,CAAC,+CAAD,CAAiD,CACzEC,MAAM,CAAE,MADiE,CAEzEC,OAAO,CAAC,CACJ,eAAe,kBADX,CAFiE,CAKzEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBZ,UAAU,CAAVA,UADiB,CAAf,CALmE,CAAjD,CAHhC,QAGUa,QAHV,uCAauBA,CAAAA,QAAQ,CAACC,IAAT,EAbvB,QAaUC,IAbV,gBAeI,GAAGA,IAAI,CAACC,MAAL,EAAa,IAAhB,CAAqB,CACjBC,KAAK,CAAC,YAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,kBAArB,CACH,CAlBL,wDA9BiB,gDAoDjB,GAAME,CAAAA,MAAM,CAAC,QAAPA,CAAAA,MAAO,EAAI,CACbJ,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,kBAArB,CACH,CAFD,CAIA7B,SAAS,CAAC,UAAM,CAAE;AACd;AACA,GAAMgC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,GAAG,CAACF,KAAJ,CAAW,CACP,GAAMG,CAAAA,IAAI,CAAG/B,GAAG,CAACgC,MAAJ,CAAWJ,KAAX,CAAb,CAA+B;AAC/B1B,OAAO,CAAC+B,IAAR,CAAa,QAAb,EAAwB;AAC3B,CACJ,CAPQ,CAAT,CASA,mBACI,oCACI,KAAC,MAAD,IADJ,cAEI,aAAK,SAAS,CAAC,KAAf,wBACA,mCADA,cAEA,cAAM,QAAQ,CAAExB,SAAhB,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,KAAK,CAAE,CAACyB,KAAK,CAAC,OAAP,CAAzC,kCADJ,cAEI,cAAO,SAAS,CAAC,6BAAjB,CAA+C,KAAK,CAAE,CAACA,KAAK,CAAC,OAAP,CAAtD,CAAuE,IAAI,CAAC,QAA5E,CAAqF,WAAW,CAAC,mBAAjG,CAAqH,QAAQ,KAA7H,CAA8H,KAAK,CAAE3B,IAArI,CAA2I,QAAQ,CAAE,kBAAC4B,CAAD,QAAK3B,CAAAA,OAAO,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ,EAArJ,EAFJ,cAE+L,aAF/L,cAEoM,aAFpM,cAII,cAAO,SAAS,CAAC,gBAAjB,CAAkC,KAAK,CAAE,CAACH,KAAK,CAAC,OAAP,CAAzC,gDAJJ,cAKI,cAAO,SAAS,CAAC,6BAAjB,CAA+C,KAAK,CAAE,CAACA,KAAK,CAAC,OAAP,CAAtD,CAAuE,IAAI,CAAC,QAA5E,CAAqF,WAAW,CAAC,cAAjG,CAAgH,QAAQ,KAAxH,CAAyH,KAAK,CAAE/B,UAAhI,CAA4I,QAAQ,CAAE,kBAACgC,CAAD,QAAK/B,CAAAA,aAAa,CAAC+B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAAtJ,EALJ,cAMI,gBAAQ,SAAS,CAAC,uCAAlB,CAA0D,KAAK,CAAE,CAACH,KAAK,CAAC,MAAP,CAAjE,wBAAiF,UAAG,SAAS,CAAC,aAAb,EAAjF,WANJ,cAMkI,aANlI,cAMuI,aANvI,GAFA,cAWA,cAAM,QAAQ,CAAER,aAAhB,wBACI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,KAAK,CAAE,CAACQ,KAAK,CAAC,OAAP,CAAzC,6BADJ,cAEI,cAAO,SAAS,CAAC,6BAAjB,CAA+C,KAAK,CAAE,CAACA,KAAK,CAAC,OAAP,CAAtD,CAAuE,IAAI,CAAC,QAA5E,CAAqF,WAAW,CAAC,cAAjG,CAAgH,QAAQ,KAAxH,CAAyH,KAAK,CAAE7B,UAAhI,CAA4I,QAAQ,CAAE,kBAAC8B,CAAD,QAAK7B,CAAAA,aAAa,CAAC6B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAAtJ,EAFJ,cAGI,gBAAQ,SAAS,CAAC,uCAAlB,CAA0D,KAAK,CAAE,CAACH,KAAK,CAAC,MAAP,CAAjE,wBAAiF,UAAG,SAAS,CAAC,aAAb,EAAjF,WAHJ,cAGkI,aAHlI,cAGuI,aAHvI,GAXA,cAiBA,gBAAQ,SAAS,CAAC,wCAAlB,CAA2D,KAAK,CAAE,CAACA,KAAK,CAAC,OAAP,CAAlE,CAAmF,OAAO,CAAEP,MAA5F,wBAAoG,UAAG,SAAS,CAAC,mBAAb,EAApG,eAjBA,GAFJ,GADJ,CAwBH,CAzFD,CA2FA,cAAe1B,CAAAA,UAAf"},"metadata":{},"sourceType":"module"}